(this["webpackJsonpwca-projector"]=this["webpackJsonpwca-projector"]||[]).push([[0],{138:function(e){e.exports=JSON.parse('{"a":"0.2.0"}')},205:function(e,t,a){e.exports=a(221)},210:function(e,t,a){},221:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),o=a.n(c),l=(a(210),a(131)),i=a(132),s=a(171),u=a(133),m=a(173),d=a(37),f=a(61),p=a(272),g=a(223),E=a(175),b=a(274),h=a(66),v=a(135),y=a(33),O="https://www.worldcubeassociation.org",w=a(36),j=Object(w.a)();function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var S=function(e){return"WCA-Real-Time.".concat("NknZHB8kACnmpBV24fKKcwV8PRGijwjjtaT8iTx4yNg",".").concat(e)},I=function(){return localStorage.getItem(S("accessToken"))},N=function(){var e=new URLSearchParams({client_id:"NknZHB8kACnmpBV24fKKcwV8PRGijwjjtaT8iTx4yNg",response_type:"token",redirect_uri:k(),scope:"public manage_competitions dob email"});window.location="".concat(O,"/oauth/authorize?").concat(e.toString())},k=function(){var e=window.location.origin;return new URLSearchParams(window.location.search).has("staging")?"".concat(e,"?staging=true"):e},x=function(){localStorage.removeItem(S("accessToken"))},P=function(){return!!I()},T=a(85),A=a.n(T),D=a(136),G=a.n(D),R=a(134),U=Object(v.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1},title:{textDecoration:"none",color:"white",flexGrow:1,marginLeft:e.spacing(1)},titleIcon:{marginRight:e.spacing(2)},username:{marginRight:e.spacing(1)}}})),z=function(e){e.history;var t=e.setMobileOpen,a=e.userInfo,c=e.onSignOut,o=U();return r.a.createElement(p.a,{position:"sticky",color:"primary",className:o.appBar},r.a.createElement(b.a,{spacing:2,className:o.titleIcon},R.isMobile&&r.a.createElement(E.a,{onClick:t,className:o.titleIcon},r.a.createElement(G.a,{size:10})),r.a.createElement(A.a,null),r.a.createElement(h.a,{variant:"h6",className:o.title,component:d.b,to:"/"},"myComp"),a&&P()?r.a.createElement(n.Fragment,null,r.a.createElement(g.a,{color:"inherit",onClick:c},a.me.name)):r.a.createElement(g.a,{color:"inherit",onClick:N},"Sign in with the WCA")))},W=a(275),L=a(277),F=a(57),M=a.n(F),B=a(141),_=a.n(B),H=a(142),V=a.n(H),J=a(140),Y=a.n(J),Z=a(138),q=a(276),K=Object(v.a)((function(e){return{root:{position:"absolute",bottom:0,width:"100%",overflow:"hidden",padding:e.spacing(2)},grow:{flexGrow:1},link:{verticalAlign:"middle",fontWeight:500,"&:hover":{textDecoration:"none",opacity:.7}},footerPadding:{width:"100%",height:50}}})),$=function(e){var t=e.currTheme,a=e.onThemeChange,n=K();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:n.footerPadding}),r.a.createElement(W.a,{container:!0,className:n.root},r.a.createElement(W.a,{item:!0,className:n.grow}),r.a.createElement(W.a,{item:!0},r.a.createElement(W.a,{container:!0,spacing:2},r.a.createElement(q.a,{title:"Gitub"},r.a.createElement(W.a,{item:!0,key:"Github"},r.a.createElement(L.a,{className:n.link,variant:"body2",href:"https://github.com/saranshgrover/WCARealTime"},r.a.createElement(Y.a,null)))),r.a.createElement(q.a,{title:"Contact"},r.a.createElement(W.a,{item:!0,key:"Contact"},r.a.createElement(L.a,{className:n.link,variant:"body2",href:"mailto:ycubiksrube@gmail.com"},r.a.createElement(_.a,null)))),r.a.createElement(q.a,{title:"light"===t?"Switch to Dark":"Switch to Light"},r.a.createElement(W.a,{item:!0,key:"Theme"},r.a.createElement(L.a,{className:n.link,variant:"body2",onClick:a},r.a.createElement(V.a,null)))),r.a.createElement(q.a,{title:"About"},r.a.createElement(W.a,{item:!0,key:"Info"},r.a.createElement(L.a,{className:n.link,variant:"body2",href:"/about"},r.a.createElement(M.a,{size:20})))),r.a.createElement(W.a,{item:!0,key:"Version"},r.a.createElement(L.a,{className:n.link,variant:"body2",href:"https://github.com/saranshgrover/WCARealTime/releases"},Z.a))))))},Q=a(170),X=a(311),ee=a(310),te=a(109),ae=a.n(te),ne=a(110),re=a.n(ne),ce=a(284),oe=a(143),le=a(9),ie=a.n(le);function se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ue(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?se(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):se(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var me=function(e){var t=ie()(e.startDate),a=ie()(e.startDate).add(e.numberOfDays,"days");return ie()().isBetween(t,a,"days","[]")},de=function e(t,a,n){var r=Object(oe.a)(a),c=r[0],o=r.slice(1);return 0===o.length?ue({},t,Object(y.a)({},c,n(t[c]))):ue({},t,Object(y.a)({},c,e(t[c],o,n)))},fe=function(e,t,a){return de(e,t,(function(e){return e&&e.map(a)}))},pe=function(e,t,a){return de(e,t,(function(){return a}))},ge=function(e,t){return e>t?1:t>e?-1:0},Ee=function(e){return e.sort((function(e,t){return ge(new Date(e.start_date),new Date(t.start_date))}))},be=function(e,t){var a=ie()();return a>=ie()(e)&&a<=ie()(t)?"Happening Now!":ie()(e).isSame(new Date,"month")?"In ".concat(Math.floor(ie.a.duration(ie()(e).diff(a)).asDays())," Days!"):"".concat(ie()(e).format("MMM Do")," - ").concat(ie()(t).format("Do"))},he=function(e){var t=e.toString();return"".concat(t.slice(0,-2),".").concat(t.slice(-2))},ve=function(e){return Ce("/competitions/".concat(e,"/wcif/public"))},ye=function(e){return Ce("/competitions/".concat(e,"/wcif"))},Oe=function(e){return Ce("/users/".concat(e,"?upcoming_competitions=true"))},we=function(e){var t=ie()(),a=new URLSearchParams({start:t.toISOString(),end:t.add(7,"days").toISOString(),page:e,sort:"start_date"});return Ce("/competitions?".concat(a.toString()))},je=function(){var e=ie()().startOf("day"),t=new URLSearchParams({managed_by_me:!0,start:e.toISOString()});return Ce("/competitions?".concat(t.toString()))},Ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a="".concat(O,"/api/v0");return fetch("".concat(a).concat(e),Object.assign({},t,{headers:new Headers({Authorization:"Bearer ".concat(I()),"Content-Type":"application/json"})})).then((function(e){if(!e.ok)throw new Error(e.statusText);return e})).then((function(e){return e.json()}))},Se=function(e,t){var a,n,r,c=Object.keys(t).filter((function(a){return e[a]!==t[a]}));return 0===c.length?Promise.resolve():(a=t.id,r=t,n=c.reduce((function(e,t){return ue({},e,Object(y.a)({},t,r[t]))}),{}),Ce("/competitions/".concat(a,"/wcif"),{method:"PATCH",body:JSON.stringify(n)}))},Ie=a(14),Ne=a(296),ke=a(315),xe=a(278),Pe=a(279),Te=a(280),Ae=a(281),De=a(282),Ge=a(146),Re=a.n(Ge),Ue=a(149),ze=a.n(Ue),We=a(144),Le=a.n(We),Fe=a(145),Me=a.n(Fe),Be=a(147),_e=a.n(Be),He=a(148),Ve=a.n(He);function Je(e){var t=e.user,a=e.onClick,n=function(e){switch(e){case"Projector":return r.a.createElement(Le.a,null);case"Groups":return r.a.createElement(Me.a,null);case"Notifications":return r.a.createElement(Re.a,null);case"Admin":return r.a.createElement(_e.a,null);case"Incidents":return r.a.createElement(Ve.a,null);default:return r.a.createElement(ze.a,null)}};return r.a.createElement("div",{style:{marginTop:"15px"}},r.a.createElement(xe.a,null),r.a.createElement(Pe.a,null,["Overview","Groups","Notifications"].map((function(e){return r.a.createElement(Te.a,{button:!0,key:e,onClick:function(){return a(e)}},r.a.createElement(Ae.a,null,n(e)),r.a.createElement(De.a,{primary:e}))}))),r.a.createElement(xe.a,null),"admin"===t&&r.a.createElement(Pe.a,null,["Admin","Incidents"].map((function(e){return r.a.createElement(Te.a,{button:!0,key:e,onClick:function(){return a(e)}},r.a.createElement(Ae.a,null,n(e)),r.a.createElement(De.a,{primary:e}))}))))}function Ye(){return r.a.createElement("div",null)}var Ze=a(64);function qe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ke(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?qe(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var $e=function(e){return"realtime.".concat(e)},Qe=function(e,t){return{id:$e(e),specUrl:"http://localhost:3000/wcif-extensions/".concat(e,".json"),data:t}},Xe=function(e,t,a){var n=t.extensions.filter((function(t){return t.id!==$e(e)}));return Ke({},t,{extensions:[].concat(Object(Ze.a)(n),[Qe(e,a)])})},et={GeneralConfig:{useProjector:!1,useGroups:!1,groupTool:"",useTelegramNotif:!1,logoLink:void 0,channelName:void 0},ScheduleConfig:{delay:0,currentActivity:void 0,pinnedMessage:void 0,groupUpdate:void 0}},tt=function(e,t){var a=t.extensions.find((function(t){return t.id===$e(e)})),n=et[e];return null===n?a&&a.data:a?Ke({},n,{},a.data):n},at=function(e,t){return t.extensions.filter((function(t){return t.id===$e(e)})).length>0};function nt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function rt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?nt(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):nt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ct=function(e,t){var a=/\d{4}[A-Z]{4}\d{2}/.test(e),n=t.persons.find((function(t){return a?t.wcaId===e:t.wcaUserId===parseInt(e)}));if(!n)return null;var r=n.assignments,c=t.schedule;return r.sort((function(e,t){return function(e,t,a){var n,r;return a.venues.forEach((function(a){return a.rooms.forEach((function(a){return a.activities.forEach((function(a){a.childActivities.forEach((function(a){a.id===e?n=new Date(a.startTime):a.id===t&&(r=new Date(a.startTime))}))}))}))})),n-r}(e.activityId,t.activityId,c)}))},ot=function(e,t){var a=/\d{4}[A-Z]{4}\d{2}/.test(e),n=t.persons.find((function(t){return a?t.wcaId===e:t.wcaUserId===e})).registration.eventIds,r=t.schedule;return n.sort((function(e,t){return lt(e,t,r)}))},lt=function(e,t,a){var n,r;return a.venues.forEach((function(a){return a.rooms.forEach((function(a){return a.activities.forEach((function(a){a.activityCode==="".concat(e,"-r1")?n=new Date(a.startTime):a.activityCode==="".concat(t,"-r1")&&(r=new Date(a.startTime))}))}))})),n-r},it=function(e){var t=[],a=!0,n=!1,r=void 0;try{for(var c,o=e.venues[Symbol.iterator]();!(a=(c=o.next()).done);a=!0){var l=c.value,i=!0,s=!1,u=void 0;try{for(var m,d=l.rooms[Symbol.iterator]();!(i=(m=d.next()).done);i=!0){var f=m.value,p=!0,g=!1,E=void 0;try{for(var b,h=f.activities[Symbol.iterator]();!(p=(b=h.next()).done);p=!0){var v=b.value;t.push(rt({},v,{room:f}));var y=!0,O=!1,w=void 0;try{for(var j,C=v.childActivities[Symbol.iterator]();!(y=(j=C.next()).done);y=!0){var S=j.value;t.push(rt({},S,{room:f}))}}catch(I){O=!0,w=I}finally{try{y||null==C.return||C.return()}finally{if(O)throw w}}}}catch(I){g=!0,E=I}finally{try{p||null==h.return||h.return()}finally{if(g)throw E}}}}catch(I){s=!0,u=I}finally{try{i||null==d.return||d.return()}finally{if(s)throw u}}}}catch(I){n=!0,r=I}finally{try{a||null==o.return||o.return()}finally{if(n)throw r}}return t},st=function(e){switch(e){case"competitor":return"Compete";case"staff-judge":return"Judge";case"staff-runner":return"Run";case"staff-scrambler":return"Scramble";default:return"Assigned for"}},ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,c=[],o=!0,l=!1,i=void 0;try{for(var s,u=function(){var n=s.value,o=r.find((function(e){return e.id===n.activityId}));e.includes(o.activityCode.slice(0,o.activityCode.indexOf("-")))||t.includes(o.room.id)||a.includes(n.assignmentCode)||c.push({startDate:o.startTime,endDate:o.endTime,title:"".concat(st(n.assignmentCode)," in ").concat(o.name),assignmentCode:n.assignmentCode,activity:o})},m=n[Symbol.iterator]();!(o=(s=m.next()).done);o=!0)u()}catch(d){l=!0,i=d}finally{try{o||null==m.return||m.return()}finally{if(l)throw i}}return c},mt=function(e){return"".concat(ft[e.slice(0,e.indexOf("-"))]," Round ").concat(e[e.indexOf("-")+2]," ")},dt=function(e){return"Group ".concat(e.slice(e.lastIndexOf("-")+2))},ft={222:"2x2",333:"3x3",444:"4x4",555:"5x5",666:"6x6",777:"7x7",pyram:"Pyraminx","333oh":"3x3 One Handed","3bld":"3x3 Blindfolded","4bld":"4x4 Blindfolded",skewb:"Skewb",clock:"Clock","333ft":"3x3 with Feet","333mbf":"3x3 Multiple Blindfolded","333fm":"Fewest Moves",sq1:"Square 1",minx:"Megaminx"},pt=function(e,t){return t.find((function(t){return t.activityCode===e}))},gt=function(e,t){var a=[],n=[],r=t.persons,c=!0,o=!1,l=void 0;try{for(var i,s=r[Symbol.iterator]();!(c=(i=s.next()).done);c=!0){var u=i.value,m=!0,d=!1,f=void 0;try{for(var p,g=u.assignments[Symbol.iterator]();!(m=(p=g.next()).done);m=!0){var E=p.value;E.activityId===e&&("competitor"===E.assignmentCode?a.push(u):n.push(u))}}catch(b){d=!0,f=b}finally{try{m||null==g.return||g.return()}finally{if(d)throw f}}}}catch(b){o=!0,l=b}finally{try{c||null==s.return||s.return()}finally{if(o)throw l}}return[a,n]},Et=function(e,t){var a=t.slice(0,t.indexOf("-")),n=e.personalBests.find((function(e){return e.eventId===a}));return n?he(n.best):"--"},bt=function(e){var t=[],a=!0,n=!1,r=void 0;try{for(var c,o=e.venues[Symbol.iterator]();!(a=(c=o.next()).done);a=!0){var l=c.value,i=!0,s=!1,u=void 0;try{for(var m,d=l.rooms[Symbol.iterator]();!(i=(m=d.next()).done);i=!0){var f=m.value;t[f.id]=parseInt(tt("ScheduleConfig",f).delay)}}catch(p){s=!0,u=p}finally{try{i||null==d.return||d.return()}finally{if(s)throw u}}}}catch(p){n=!0,r=p}finally{try{a||null==o.return||o.return()}finally{if(n)throw r}}return t},ht=a(285),vt=a(286),yt=a(287),Ot=a(288),wt=a(289),jt=a(283),Ct=a(319),St=a(89),It=a.n(St);function Nt(e){var t=e.message,a=Object(v.a)((function(e){return Object(Ct.a)({root:{width:"100%",height:"100%",textAlign:"center",color:"light"===e.palette.type?e.palette.error.dark:e.palette.error.light},error:{fontSize:"50px"}})}))();return r.a.createElement(jt.a,null,r.a.createElement("div",{className:a.root},r.a.createElement(It.a,{className:a.error}),r.a.createElement(h.a,{variant:"h1"},"ERROR"),r.a.createElement(h.a,{variant:"subtitle1"},t)))}var kt=Object(v.a)((function(e){return{root:{width:"100%",margin:e.spacing(3)},link:{textDecoration:"none",color:e.palette.primary.light},top:{margin:"auto",backgroundColor:e.palette.primary.main},header:{backgroundColor:e.palette.secondary.main},text:{margin:e.spacing(3)},table:{margin:"auto",maxWidth:800},tableCell:{paddingRight:4,paddingLeft:5}}}));function xt(e){var t=e.event,a=e.round,c=e.group,o=e.activities,l=(e.history,e.wcif),i="".concat(t,"-r").concat(a,"-g").concat(c),s=pt(i,o),u=Object(n.useState)(!0),m=Object(Ie.a)(u,2),f=m[0],p=m[1],g=Object(n.useState)([]),E=Object(Ie.a)(g,2),b=E[0],v=E[1];Object(n.useEffect)((function(){v(gt(pt(i,o).id,l)),p(!1)}),[l,o,i]);var y=kt();return r.a.createElement(r.a.Fragment,null,f&&r.a.createElement(ce.a,null),!f&&b[0].length>0&&r.a.createElement(ht.a,{size:"small",className:y.table},r.a.createElement(vt.a,null,r.a.createElement(yt.a,null,r.a.createElement(Ot.a,{className:y.top,align:"center",colSpan:5},r.a.createElement(h.a,null," Competitors "))),r.a.createElement(yt.a,{className:y.header},r.a.createElement(Ot.a,{className:y.tableCell},r.a.createElement(h.a,null,"Competitor")),r.a.createElement(Ot.a,{className:y.tableCell},r.a.createElement(h.a,null,"WCA ID")),r.a.createElement(Ot.a,{className:y.tableCell},r.a.createElement(h.a,null,"Seed Time")))),r.a.createElement(wt.a,null,b[0].map((function(e){return r.a.createElement(yt.a,{key:e.wcaUserId},r.a.createElement(Ot.a,{className:y.tableCell},r.a.createElement(d.b,{className:y.link,to:"/competitions/".concat(l.id,"/groups/competitors/").concat(e.wcaId?e.wcaId:e.wcaUserId)},r.a.createElement(h.a,null," ",e.name))),r.a.createElement(Ot.a,{className:y.tableCell},r.a.createElement(h.a,null,e.wcaId?e.wcaId:"-")),r.a.createElement(Ot.a,{className:y.tableCell},r.a.createElement(h.a,null,Et(e,s.activityCode))))}))),r.a.createElement(vt.a,null,r.a.createElement(yt.a,null,r.a.createElement(Ot.a,{className:y.top,align:"center",colSpan:5},r.a.createElement(h.a,null," Staff "))),r.a.createElement(yt.a,{className:y.header},r.a.createElement(Ot.a,{className:y.tableCell},r.a.createElement(h.a,null," Competitor ")),r.a.createElement(Ot.a,{className:y.tableCell},r.a.createElement(h.a,null," WCA ID ")),r.a.createElement(Ot.a,{className:y.tableCell},r.a.createElement(h.a,null," Duty ")))),r.a.createElement(wt.a,null,b[1].map((function(e){return r.a.createElement(yt.a,{key:e.wcaUserId},r.a.createElement(Ot.a,{className:y.tableCell},r.a.createElement(d.b,{className:y.link,to:"/competitions/".concat(l.id,"/groups/competitors/").concat(e.wcaId?e.wcaId:e.wcaUserId)},r.a.createElement(h.a,null,e.name))),r.a.createElement(Ot.a,{className:y.tableCell},r.a.createElement(h.a,null,e.wcaId)),r.a.createElement(Ot.a,{className:y.tableCell},r.a.createElement(h.a,null,st(e.assignments.find((function(e){return e.activityId===s.id})).assignmentCode))))})))),!f&&0===b[0].length&&r.a.createElement(Nt,{message:"Group is Invalid or has not begun"}))}var Pt=function(e){var t=e.substring(e.indexOf("-")+2);return t=t.substring(0,t.indexOf("-")>0?t.indexOf("-"):t.length)},Tt=function(e){return e.substring(e.lastIndexOf("-g")+2)},At=function(e,t){var a=[],n=!0,r=!1,c=void 0;try{for(var o,l=t[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var i=o.value;i.activityCode.includes(e)&&!a.includes(i.activityCode)&&0===i.childActivities.length&&a.push({activity:i.activityCode,room:i.room.name,startTime:i.startTime})}}catch(s){r=!0,c=s}finally{try{n||null==l.return||l.return()}finally{if(r)throw c}}return a},Dt=function(e){var t=e.substring(0,e.indexOf("-")),a=Pt(e),n=Tt(e);return"".concat(t,"/").concat(a,"/").concat(n)},Gt=function(e){if(!e)return"";switch(e.type){case"ranking":return"Top ".concat(parseInt(e.level));case"percent":return"".concat(parseInt(e.leve),"%");case"attemptResult":return"Better than ".concat(he(e.level));default:return""}},Rt=function(e){return"".concat(he(e.attemptResult)," seconds in ").concat(e.numberOfAttempts," results")},Ut=Object(v.a)((function(e){return{root:{width:"100%",margin:e.spacing(3)},link:{color:e.palette.primary.light,cursor:"pointer"},top:{margin:"auto",backgroundColor:e.palette.primary.main},header:{backgroundColor:e.palette.secondary.main},text:{margin:e.spacing(3)},table:{margin:"auto"},tableCell:{paddingRight:4,paddingLeft:5}}}));function zt(e){var t=e.history,a=e.setRound,c=e.events,o=e.event,l=e.wcif,i=Object(n.useState)(null),s=Object(Ie.a)(i,2),u=s[0],m=s[1];Object(n.useEffect)((function(){var e=l.events.find((function(e){return e.id===o}));m(e)}),[o,l]);var d=Ut();return r.a.createElement(r.a.Fragment,null,c.includes(o)?u?r.a.createElement(ht.a,{size:"small",className:d.table},r.a.createElement(vt.a,null,r.a.createElement(yt.a,{className:d.header},r.a.createElement(Ot.a,{className:d.tableCell},r.a.createElement(h.a,null,"Round")),r.a.createElement(Ot.a,{className:d.tableCell},r.a.createElement(h.a,null,"Cutoff")),r.a.createElement(Ot.a,{className:d.tableCell},r.a.createElement(h.a,null,"Advancement Conditon")))),r.a.createElement(wt.a,null,u.rounds.map((function(e){return r.a.createElement(yt.a,{key:e.id},r.a.createElement(Ot.a,{className:d.tableCell},r.a.createElement(h.a,{className:d.link,onClick:function(){return function(e){a(e),t.push("/competitions/".concat(l.id,"/groups/events/").concat(o,"/").concat(e))}(Pt(e.id))}},"Round ".concat(Pt(e.id)))),r.a.createElement(Ot.a,{className:d.tableCell},r.a.createElement(h.a,null,e.cutoff?Rt(e.cutoff):"None")),r.a.createElement(Ot.a,{className:d.tableCell},r.a.createElement(h.a,null,Gt(e.advancementCondition))))})))):r.a.createElement(ce.a,null):r.a.createElement(Nt,{message:"Invalid Event"}))}var Wt=Object(v.a)((function(e){return{root:{width:"100%",margin:e.spacing(3)},link:{color:e.palette.primary.light,cursor:"pointer"},top:{margin:"auto",backgroundColor:e.palette.primary.main},header:{backgroundColor:e.palette.secondary.main},text:{margin:e.spacing(3)},table:{margin:"auto"},tableCell:{paddingRight:4,paddingLeft:5}}}));function Lt(e){var t=e.history,a=e.setGroup,c=e.event,o=e.round,l=e.activities,i=e.wcif,s=Object(n.useState)(null),u=Object(Ie.a)(s,2),m=u[0],d=u[1];Object(n.useEffect)((function(){var e="".concat(c,"-r").concat(o),t=At(e,l);t.sort((function(e,t){return e.startTime>t.startTime?1:t.startTime>e.startTime?-1:0})),d(t)}),[l,c,o]);var f=Wt();return r.a.createElement(r.a.Fragment,null,m&&m.length>0?r.a.createElement(ht.a,{size:"small",className:f.table},r.a.createElement(vt.a,null,r.a.createElement(yt.a,{className:f.header},r.a.createElement(Ot.a,{className:f.tableCell},r.a.createElement(h.a,null,"Group")),r.a.createElement(Ot.a,{className:f.tableCell},r.a.createElement(h.a,null,"Room")),r.a.createElement(Ot.a,{className:f.tableCell},r.a.createElement(h.a,null,"Start Time")))),r.a.createElement(wt.a,null,m.map((function(e,n){return r.a.createElement(yt.a,{key:n},r.a.createElement(Ot.a,{className:f.tableCell},r.a.createElement(h.a,{onClick:function(){return function(e){a(e),t.push("/competitions/".concat(i.id,"/groups/events/").concat(c,"/").concat(o,"/").concat(e))}(Tt(e.activity))},className:f.link},"Group ".concat(Tt(e.activity)))),r.a.createElement(Ot.a,{className:f.tableCell},r.a.createElement(h.a,null," ",e.room)),r.a.createElement(Ot.a,{className:f.tableCell},r.a.createElement(h.a,null,ie.a.utc(e.startTime).format("hh:mm a"))))})))):r.a.createElement(Nt,{message:"Invalid Group"}))}var Ft=a(316),Mt=a(228),Bt=Object(Mt.a)((function(e){return{root:{flexGrow:1},icon:{fontSize:20,padding:e.spacing(1),"&:hover":{opacity:.7,color:e.palette.primary.main}},iconSelect:{fontSize:20,padding:e.spacing(1),color:e.palette.primary.main,"&:hover":{opacity:.7}}}}));function _t(e){var t=e.selected,a=void 0===t?[]:t,n=e.onClick,c=e.justify,o=e.events,l=e.alignment,i=void 0===l?"row":l,s=(e.size,e.user,e.showName),u=void 0!==s&&s,m=Bt();return r.a.createElement("div",{className:m.root},r.a.createElement(W.a,{spacing:4,container:!0,direction:i,justify:c},o.map((function(e){return r.a.createElement(W.a,{item:!0,key:e},r.a.createElement(E.a,{variant:"inherit",onClick:function(){return n(e)}},r.a.createElement("span",{className:(a.includes(e)?m.icon:m.iconSelect)+" cubing-icon event-".concat(e)})),u&&r.a.createElement(W.a,{item:!0},r.a.createElement(h.a,{align:"center"},ft[e])))}))))}var Ht=a(78),Vt=a(150),Jt=a.n(Vt),Yt=Object(v.a)((function(e){return{paper:{width:"100%",maxHeight:"100%",overflow:"auto",padding:e.spacing(2),marginBottom:e.spacing(3)}}}));function Zt(e){var t=e.wcif,a=bt(t.schedule),n=Yt();return r.a.createElement(Ht.a,{className:n.paper},t.schedule.venues.map((function(e){return e.rooms.map((function(e){return a[e.id]>0?r.a.createElement(W.a,{container:!0,spacing:2,key:e.id,alignItems:"center"},r.a.createElement(W.a,{item:!0},r.a.createElement(M.a,{style:{color:e.color},fontSize:"large"})),r.a.createElement(W.a,{item:!0},r.a.createElement(h.a,null,"".concat(e.name," is currently delayed by ").concat(a[e.id]," minute(s).")))):r.a.createElement(r.a.Fragment,{key:e.id})}))})),0===a.filter((function(e){return 0!==e})).length&&r.a.createElement(W.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(W.a,{item:!0},r.a.createElement(Jt.a,{style:{color:"#00ff00"},fontSize:"large"})),r.a.createElement(W.a,{item:!0},r.a.createElement(h.a,null,"".concat(t.name," is running on schedule!")))))}function qt(e){var t=e.match,a=e.wcif,c=(e.userInfo,e.history),o=Object(n.useState)(void 0),l=Object(Ie.a)(o,2),i=l[0],s=l[1];Object(n.useEffect)((function(){s(it(a.schedule))}),[a.schedule]);var u=Object(n.useState)(void 0),m=Object(Ie.a)(u,2),d=m[0],f=m[1];Object(n.useEffect)((function(){var e=[];a.events.map((function(t){return e.push(t.id)})),f(e)}),[a.events]);var p=Object(n.useState)(t.params.event),g=Object(Ie.a)(p,2),E=g[0],b=g[1],h=Object(n.useState)(t.params.group),v=Object(Ie.a)(h,2),y=v[0],O=v[1],w=Object(n.useState)(t.params.round),j=Object(Ie.a)(w,2),C=j[0],S=j[1],I=function(e,t,n){e&&b(void 0),t&&S(void 0),n&&O(void 0);var r="/competitions/".concat(a.id,"/groups/events/");e||(r+="".concat(E,"/")),n||(r+="".concat(y,"/")),t||(r+="".concat(C,"/")),c.push(r)};return r.a.createElement(W.a,{container:!0,spacing:4,direction:"column",alignItems:"center",justify:"center"},me(a.schedule)&&r.a.createElement(Zt,{wcif:a}),r.a.createElement(W.a,{item:!0},r.a.createElement(Ft.a,{style:{fontSize:"5vmin"}},r.a.createElement(L.a,{style:{fontSize:"5vmin"},component:"button",color:"inherit",onClick:function(){return I(!0,!0,!0)}},"Events"),E&&r.a.createElement(L.a,{style:{fontSize:"5vmin"},component:"button",color:"inherit",onClick:function(){return I(!1,!0,!0)}},r.a.createElement("span",{className:"cubing-icon event-".concat(E)})),C&&r.a.createElement(L.a,{style:{fontSize:"5vmin"},component:"button",color:"inherit",onClick:function(){return I(!1,!1,!0)}},"Round ",C),y&&r.a.createElement(L.a,{style:{fontSize:"5vmin"},color:"inherit",onClick:function(){return I(!1,!1,!1)}},"Group ",y))),d&&i&&E&&C&&y?r.a.createElement(xt,{activities:i,event:E,group:y,round:C,history:c,wcif:a}):d&&i&&E&&C?r.a.createElement(Lt,{history:c,activities:i,event:E,round:C,setGroup:O,wcif:a}):d&&i&&E?r.a.createElement(zt,{history:c,setRound:S,events:d,event:E,wcif:a}):d?r.a.createElement(_t,{events:d,showName:!0,onClick:function(e){b(e),c.push("/competitions/".concat(a.id,"/groups/events/").concat(e))}}):r.a.createElement(ce.a,null))}var Kt=a(314),$t=(a(218),a(151)),Qt=a.n($t),Xt=Object(Mt.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(3)},paper:{width:"100%",maxHeight:"100%",overflow:"auto",padding:e.spacing(2),marginBottom:e.spacing(3)},text:{margin:e.spacing(3)},tableCell:{paddingRight:4,paddingLeft:5},link:{color:e.palette.primary.light,textDecoration:"none"}}}));function ea(e){var t=e.wcaId,a=(e.userInfo,e.wcif),n=ct(t,a),c=n&&ut([],[],[],n,it(a.schedule)),o=Xt();return r.a.createElement(r.a.Fragment,null,null===n?r.a.createElement(Nt,{message:"Invalid ID"}):r.a.createElement(W.a,{item:!0,className:o.root,xs:12},r.a.createElement(Ht.a,{className:o.paper},r.a.createElement(ht.a,{className:o.table},r.a.createElement(vt.a,null,r.a.createElement(yt.a,null,r.a.createElement(Ot.a,{className:o.tableCell,size:"small"},r.a.createElement(h.a,null,"Time"," ")),r.a.createElement(Ot.a,{className:o.tableCell},r.a.createElement(h.a,null,"Event"," ")),r.a.createElement(Ot.a,{className:o.tableCell,size:"small"},r.a.createElement(h.a,null,"Group"," ")),r.a.createElement(Ot.a,{className:o.tableCell,size:"small"},r.a.createElement(h.a,null,"Activity"," ")),r.a.createElement(Ot.a,{className:o.tableCell},r.a.createElement(h.a,null,"Room"," ")))),r.a.createElement(wt.a,null,c&&c.map((function(e){return r.a.createElement(yt.a,{key:e.title},r.a.createElement(Ot.a,{className:o.tableCell},r.a.createElement(h.a,null,ie()(e.startDate).tz(a.schedule.venues[0].timezone).format("hh:mm a"))),r.a.createElement(Ot.a,{className:o.tableCell},r.a.createElement(h.a,null,mt(e.activity.activityCode))),r.a.createElement(Ot.a,{className:o.tableCell},r.a.createElement(d.b,{className:o.link,to:"/competitions/".concat(a.id,"/groups/events/").concat(Dt(e.activity.activityCode))},r.a.createElement(h.a,null,dt(e.activity.activityCode)))),r.a.createElement(Ot.a,{className:o.tableCell},r.a.createElement(h.a,null,st(e.assignmentCode))),r.a.createElement(Ot.a,{className:o.tableCell},r.a.createElement(W.a,{container:!0,alignItems:"center"},r.a.createElement(W.a,{item:!0},r.a.createElement(h.a,null,e.activity.room.name)),r.a.createElement(W.a,{item:!0},r.a.createElement(Qt.a,{style:{fontSize:"50px",color:e.activity.room.color}})))))})))))))}var ta=a(321),aa=a(293),na=a(294),ra=Object(v.a)((function(e){return{paper:{marginTop:e.spacing(2),overflow:"auto"},list:{height:"400",textAlign:"center"}}}));function ca(e){var t=e.onClick,a=e.competitors;console.log(a);var c=ra(),o=Object(n.useState)(""),l=Object(Ie.a)(o,2),i=l[0],s=l[1],u=Object(n.useState)(a),m=Object(Ie.a)(u,2),d=m[0],f=m[1];return r.a.createElement(Ht.a,{className:c.paper},r.a.createElement(Pe.a,{className:c.list},r.a.createElement(Te.a,{className:c.list},r.a.createElement(ta.a,{value:i,onChange:function(e){var t=e.target.value;s(t),f(""===t?a:a.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())||e.wcaId&&e.wcaId.includes(t.toUpperCase())})))},fullWidth:!0,label:"Search",id:"outlined-basic"})),d.map((function(e){return r.a.createElement(Te.a,{button:!0,onClick:function(a){return t(a,e)},key:e.wcaUserId,style:{textAlign:"center"}},r.a.createElement(aa.a,null,r.a.createElement(na.a,{style:{width:60,height:60},alt:e.name,src:e.avatar.thumbUrl})),r.a.createElement(De.a,{primary:e.name,secondary:e.wcaId?e.wcaId:e.wcaUserId}))}))))}function oa(e){var t,a=e.history,c=e.wcif,o=e.match,l=c.persons,i=function(e){return e.wcaId?e.wcaId:e.wcaUserId},s=Object(n.useState)(o.params.wcaId?(t=o.params.wcaId,isNaN(t)?l.find((function(e){return e.wcaId===t})):l.find((function(e){return e.wcaUserId===parseInt(t)}))):null),u=Object(Ie.a)(s,2),m=u[0],d=u[1],f=function(e,t){d(t),a.push("/competitions/".concat(c.id,"/groups/competitors/").concat(i(t)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{spacing:4,container:!0,direction:"column",alignItems:"center"},me(c.schedule)&&r.a.createElement(Zt,{wcif:c}),r.a.createElement(W.a,{item:!0},r.a.createElement(Ft.a,{style:{fontSize:"5vmin"}},r.a.createElement(L.a,{color:"inherit",href:"/competitions/".concat(c.id,"/groups/competitors")},"Competitors"),m&&r.a.createElement(L.a,{color:"inherit",href:"/competitions/".concat(c.id,"/groups/competitors/").concat(i(m))},m.name))),m&&r.a.createElement(W.a,{item:!0},r.a.createElement(Kt.a,{onChange:f,options:l,getOptionLabel:function(e){return"".concat(e.name," ").concat(e.wcaId?"- ".concat(e.wcaId):"")},style:{width:300},value:m,renderInput:function(e){return r.a.createElement(ta.a,Object.assign({},e,{label:"Select Competitor",variant:"outlined",fullWidth:!0}))}})),m&&r.a.createElement(ea,{wcaId:m.wcaId?m.wcaId:m.wcaUserId,userInfo:m,wcif:c})),!m&&r.a.createElement(ca,{onClick:f,competitors:l}))}function la(e){var t=e.user,a=e.wcif,n=e.userInfo;return r.a.createElement(f.d,null,r.a.createElement(f.b,{path:"/competitions/".concat(a.id,"/groups/competitors/:wcaId?"),render:function(e){return r.a.createElement(oa,Object.assign({},e,{wcif:a,userInfo:n,user:t}))}}),r.a.createElement(f.b,{path:"/competitions/".concat(a.id,"/groups/events/:event?/:round?/:group?"),render:function(e){return r.a.createElement(qt,Object.assign({},e,{wcif:a,userInfo:n}))}}),"spectator"!==t&&r.a.createElement(f.a,{to:"/competitions/".concat(a.id,"/groups/competitors/").concat(n.me.wca_id?n.me.wca_id:n.me.id)}),"spectator"===t&&r.a.createElement(f.a,{to:"/competitions/".concat(a.id,"/groups/competitors/")}))}var ia=a(28),sa=a(76),ua=a(320);function ma(e){var t=e.venues,a=e.unselectedRooms,n=e.setUnselectedRooms,c=e.unselectedAssignments,o=e.setUnselectedAssignments;return r.a.createElement(W.a,{container:!0,direction:"column",spacing:2},r.a.createElement(W.a,{item:!0},t.map((function(e){return e.rooms.map((function(e){return r.a.createElement(ua.a,{clickable:!0,onClick:function(){return t=e.id,void(a.includes(t)?n(a.filter((function(e){return e!==t}))):n([].concat(Object(Ze.a)(a),[t])));var t},key:e.id,label:e.name,style:a.includes(e.id)?{}:{backgroundColor:e.color}})}))}))),r.a.createElement(W.a,{item:!0},["competitor","staff-judge","staff-runner","staff-scrambler"].map((function(e){return r.a.createElement(ua.a,{clickable:!0,onClick:function(){return t=e,void(c.includes(t)?o(c.filter((function(e){return e!==t}))):o([].concat(Object(Ze.a)(c),[t])));var t},key:e,label:st(e),color:c.includes(e)?"default":"primary"})}))))}var da=Object(v.a)((function(e){return{root:{flexGrow:1,padding:e.spacing(2,3)},paper:{margin:e.spacing(2),padding:e.spacing(3),textAlign:"center"},card:{textAlign:"center",margin:e.spacing(2),maxHeight:"200px"}}})),fa=function(e){return r.a.createElement(sa.a.Appointment,Object.assign({},e,{style:{backgroundColor:e.data.activity.room.color}}))};function pa(e){var t=e.wcif,a=e.user,c=e.userInfo,o=da(),l=Object(n.useState)("spectator"===a?t.persons[0]:t.persons.find((function(e){return e.wcaUserId===c.me.id}))),i=Object(Ie.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)([]),d=Object(Ie.a)(m,2),f=d[0],p=d[1],g=Object(n.useState)([]),E=Object(Ie.a)(g,2),b=E[0],h=E[1],v=Object(n.useState)(!0),y=Object(Ie.a)(v,2),O=y[0],w=y[1];Object(n.useEffect)((function(){w(!0),p(ot(s.wcaUserId,t)),h(ct(s.wcaUserId,t))}),[s,t]);var j=Object(n.useState)([]),C=Object(Ie.a)(j,2),S=C[0],I=C[1],N=Object(n.useState)([]),k=Object(Ie.a)(N,2),x=k[0],P=k[1],T=Object(n.useState)([]),A=Object(Ie.a)(T,2),D=A[0],G=A[1],R=Object(n.useState)(null),U=Object(Ie.a)(R,2),z=U[0],L=U[1];Object(n.useEffect)((function(){L(it(t.schedule))}),[t]);var F=Object(n.useState)([]),M=Object(Ie.a)(F,2),B=M[0],_=M[1];Object(n.useEffect)((function(){_(ut(S,x,D,b,z)),w(!1)}),[a,S,x,D,b,t,z]);return r.a.createElement("div",{className:o.root},me(t.schedule)&&r.a.createElement(Zt,{wcif:t}),O?r.a.createElement(ce.a,null):r.a.createElement(Ht.a,{className:o.paper},r.a.createElement(W.a,{container:!0,justify:"center",alignItems:"center",direction:"row"},r.a.createElement(W.a,{item:!0},r.a.createElement(Kt.a,{onChange:function(e,t){return u(t)},options:t.persons,getOptionLabel:function(e){return"".concat(e.name," ").concat(e.wcaId?"- ".concat(e.wcaId):"")},style:{width:300},value:s,renderInput:function(e){return r.a.createElement(ta.a,Object.assign({style:{textAlign:"center"}},e,{label:"Select Competitor",variant:"outlined",fullWidth:!0}))}}),r.a.createElement(_t,{selected:S,onClick:function(e){S.includes(e)?I(S.filter((function(t){return!(t===e)}))):I([].concat(Object(Ze.a)(S),[e]))},justify:"center",events:f,user:a})),r.a.createElement(W.a,{item:!0},r.a.createElement(ma,{venues:t.schedule.venues,unselectedRooms:x,setUnselectedRooms:P,unselectedAssignments:D,setUnselectedAssignments:G})),r.a.createElement(W.a,{item:!0},r.a.createElement(sa.c,{data:B},r.a.createElement(ia.n,{currentDate:t.schedule.startDate}),r.a.createElement(sa.b,{startDayHour:8,endDayHour:19,cellDuration:30}),r.a.createElement(sa.a,{appointmentComponent:fa}))))))}var ga=a(318),Ea=a(306),ba=a(303),ha=a(98),va=a.n(ha),ya=a(304),Oa=a(301),wa=a(302);function ja(e){var t=e.room,a=e.onRoomChange,n=function(e){return function(n){a(Xe("ScheduleConfig",t,pe(tt("ScheduleConfig",t),[e],n.target.value)))}},c=tt("ScheduleConfig",t);return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{variant:"h6"},t.name),r.a.createElement(ta.a,{id:"outlined-number",label:"Delay (minutes)",type:"number",InputLabelProps:{shrink:!0},value:c.delay,onChange:n("delay"),margin:"normal",variant:"outlined"}),r.a.createElement(ta.a,{id:"outlined-multiline-static",label:"Pinned Messsage",type:"text",InputLabelProps:{shrink:!0},multiline:!0,rows:"4",value:c.pinnedMessage,onChange:n("pinnedMessage"),margin:"normal",variant:"outlined",helperText:"Use this if you would like to project a message at the competition. You might want to include WiFi details, lunch details among other stuff. Come back if you wish to add anything."}),r.a.createElement(xe.a,null))}var Ca=Object(v.a)((function(e){return{root:{width:"100%"},title:{margin:e.spacing(3),textAlign:"center"},group:{justifyContent:"center"},link:{justifyContent:"center",maxWidth:200}}}));function Sa(e){var t=e.wcif,a=e.setWcif,n=e.updateProjectorConfig,c=e.venues,o=e.id,l=function(e){a(fe(t,["schedule","venues"],(function(t){return fe(t,["rooms"],(function(t){return t.id===e.id?e:t}))})))},i=Ca();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ba.a,null,r.a.createElement(Oa.a,null,c.map((function(e){return e.rooms.map((function(e){return r.a.createElement(ja,{key:e.id,room:e,onRoomChange:l})}))})),r.a.createElement(h.a,{className:i.title,variant:"h6",gutterBottom:!0},"Link to Projector Screens"),r.a.createElement(wa.a,{className:i.group},r.a.createElement(g.a,{className:i.link,variant:"outlined",href:"/project/".concat(o,"/all")},"Slideshow")))),r.a.createElement(ya.a,null,r.a.createElement(g.a,{size:"small",color:"primary",onClick:function(){n()}},"Save")))}var Ia=a(300),Na=a(305),ka=a(152),xa=a(292),Pa=a(322);function Ta(e){var t,a=e.wcif,n=e.setWcif,c=e.updateGeneralConfig,o=tt("GeneralConfig",a),l=function(e){return function(t){n(Xe("GeneralConfig",a,pe(tt("GeneralConfig",a),[e],t.target.checked)))}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ba.a,null,r.a.createElement(Oa.a,null,r.a.createElement(Ia.a,{control:r.a.createElement(Na.a,{checked:o.useProjector,value:"useProjector",onChange:l("useProjector")}),label:"Use myComp for Sharing Groups"}),r.a.createElement(xa.a,null,"Selecting this means that a competitor will be able to access their groups and assignments on mycomp. Please make sure to add a delay if the competition is running behind schedule at any point."),r.a.createElement(Ia.a,{control:r.a.createElement(Na.a,{checked:o.useTelegramNotif,value:"useTelegramNotif",onChange:l("useTelegramNotif")}),label:"Use Telegram Notifications"}),r.a.createElement(Ia.a,{required:!0,style:{margin:20,minWidth:120},control:r.a.createElement("div",null,r.a.createElement(Pa.a,{htmlFor:"group-tool-helper"},"Group Tool Used"),r.a.createElement(ka.a,{value:o.groupTool,onChange:(t="groupTool",function(e){n(Xe("GeneralConfig",a,pe(tt("GeneralConfig",a),[t],e.target.value)))})},r.a.createElement("option",{value:""},"None"),r.a.createElement("option",{value:"groupifier"},"Groupifier")),r.a.createElement(xa.a,null,"Select the tool you used to generate groups. Only programs that communicate with WCIF are usable. If not selected, competitors will be unable to view their groups and you will have to manually proceed groups on the projector."))}))),r.a.createElement(ya.a,null,r.a.createElement(g.a,{size:"small",color:"primary",onClick:function(){c()}},"Save")))}var Aa=Object(v.a)((function(e){return{root:{width:"100%"},title:{margin:e.spacing(3),textAlign:"center"},group:{justifyContent:"center"},link:{justifyContent:"center",maxWidth:200}}}));function Da(e){var t=e.wcif;e.setWcif,e.updateProjectorConfig,e.venues,e.id,Aa();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ba.a,null,r.a.createElement(Oa.a,null,r.a.createElement(h.a,null,"You can use a telegram channel for live automated notifications to\n            all competitiors. This isn't 100% integrated yet - but you can find\n            out more on how to ",r.a.createElement(L.a,{href:"https://github.com/saranshgrover/WCANotifiBot/wiki/How-to-use-WCA-Notification-Bot"},"here")),r.a.createElement(h.a,null,"Link competitiors to this link: ",r.a.createElement(L.a,{href:"https://t.me/".concat(t.id)},"t.me/".concat(t.id)," ")))))}var Ga=a(299),Ra=Object(v.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},mainLoader:{position:"absolute",left:"55%",top:"50%"}}}));function Ua(e){var t=e.user,a=e.wcif,c=e.setWcif,o=Ra(),l=Object(n.useState)(a),i=Object(Ie.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)(!1),d=Object(Ie.a)(m,2),f=d[0],p=d[1],g=function(){p(!0),Se(a,s).then((function(){c(s),p(!1)})).catch((function(e){return r.a.createElement(Nt,{message:e})}))};return r.a.createElement("div",{className:o.root},f&&r.a.createElement(Ga.a,{size:50,className:o.mainLoader}),!f&&"admin"===t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ga.a,null,r.a.createElement(Ea.a,{expandIcon:r.a.createElement(va.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(h.a,{className:o.heading},"General")),r.a.createElement(Ta,{wcif:s,setWcif:u,updateGeneralConfig:g})),r.a.createElement(ga.a,{disabled:!tt("GeneralConfig",a).useProjector},r.a.createElement(Ea.a,{expandIcon:r.a.createElement(va.a,null),"aria-controls":"panel2a-content",id:"panel2a-header"},r.a.createElement(h.a,{className:o.heading},"Venue Configuration")),r.a.createElement(Sa,{wcif:s,setWcif:u,updateProjectorConfig:g,venues:s.schedule.venues,id:s.id})),r.a.createElement(ga.a,{disabled:!tt("GeneralConfig",a).useTelegramNotif},r.a.createElement(Ea.a,{expandIcon:r.a.createElement(va.a,null),"aria-controls":"panel3a-content",id:"panel3a-header"},r.a.createElement(h.a,{className:o.heading},"Notifications")),r.a.createElement(ba.a,null,r.a.createElement(Da,{wcif:s,setWcif:u,updateNotificationsConfig:g})))),"admin"!==t&&r.a.createElement(Nt,{message:"You are not an administrator"}))}var za=a(172),Wa=a(3),La=a(160),Fa=a.n(La),Ma=a(75),Ba=a.n(Ma),_a=a(307),Ha=a(308),Va=a(324),Ja=a(309),Ya=a(161),Za=a.n(Ya),qa={success:Fa.a,warning:Za.a,error:It.a,info:M.a},Ka=Object(v.a)((function(e){return{success:{backgroundColor:_a.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ha.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function $a(e){var t=Ka(),a=e.className,n=e.message,c=e.onClose,o=e.variant,l=Object(za.a)(e,["className","message","onClose","variant"]),i=qa[o];return r.a.createElement(Ja.a,Object.assign({className:Object(Wa.a)(t[o],a),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},r.a.createElement(i,{className:Object(Wa.a)(t.icon,t.iconVariant)}),n),action:[r.a.createElement(E.a,{key:"close","aria-label":"close",color:"inherit",onClick:c},r.a.createElement(Ba.a,{className:t.icon}))]},l))}var Qa=Object(v.a)((function(e){return{margin:{margin:e.spacing(1)}}}));function Xa(e){var t=e.variant,a=e.message,n=(Qa(),r.a.useState(!0)),c=Object(Ie.a)(n,2),o=c[0],l=c[1],i=function(e,t){"clickaway"!==t&&l(!1)};return r.a.createElement("div",null,r.a.createElement(Va.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:o,autoHideDuration:6e3,onClose:i},r.a.createElement($a,{onClose:i,variant:t,message:a})))}var en=function(e){var t=e.user,a=(e.history,e.localWcif),c=e.compId,o=e.userInfo,l=Object(n.useState)(a),i=Object(Ie.a)(l,2),s=i[0],u=i[1];return r.a.createElement("div",null,at("GeneralConfig",s)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(f.b,{path:"/competitions/".concat(s.id,"/overview"),render:function(e){return r.a.createElement(pa,Object.assign({},e,{wcif:s,user:t,userInfo:o}))}}),r.a.createElement(f.b,{path:"/competitions/".concat(s.id,"/groups"),render:function(e){return r.a.createElement(la,Object.assign({},e,{user:t,wcif:s,userInfo:o}))}}),r.a.createElement(f.b,{path:"/competitions/".concat(s.id,"/notifications"),render:function(e){return r.a.createElement(Ye,e)}}),r.a.createElement(f.b,{path:"/competitions/".concat(s.id,"/admin"),render:function(e){return r.a.createElement(Ua,Object.assign({},e,{user:t,wcif:s,setWcif:u}))}})),!at("GeneralConfig",s)&&("admin"===t?r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{to:"/competitions/".concat(c,"/admin")}),r.a.createElement(Xa,{variant:"error",message:"Set up Admin information first"}),r.a.createElement(Ua,{user:t,wcif:s,setWcif:u})):r.a.createElement(Nt,{message:"\ud83d\ude1e\ud83d\ude1e\ud83d\ude1e This competition isn't using myComp \ud83d\ude1e\ud83d\ude1e\ud83d\ude1e "})),r.a.createElement(f.b,{exact:!0,path:"/competitions/".concat(s.id)},r.a.createElement(f.a,{to:"/competitions/".concat(s.id,"/overview")})))},tn=Object(v.a)((function(e){return{root:{display:"flex"},drawer:Object(y.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:Object(y.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240}),menuButton:Object(y.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},content:{flexGrow:1,padding:e.spacing(3)}}}));var an=function(e){var t=e.match,a=(e.location,e.history),c=e.container,o=e.mobileOpen,l=e.setMobileOpen,i=e.userInfo,s=(e.managableComps,e.upcomingComps,tn()),u=function(e){O(e),a.push("/competitions/".concat(t.params.compId,"/").concat(e.toLowerCase(),"/"))},m=Object(n.useState)(!0),d=Object(Ie.a)(m,2),f=d[0],p=d[1],g=Object(n.useState)(null),E=Object(Ie.a)(g,2),b=E[0],h=E[1],v=Object(n.useState)("overview"),y=Object(Ie.a)(v,2),O=(y[0],y[1]),w=Object(n.useState)(null),j=Object(Ie.a)(w,2),C=j[0],S=j[1];Object(n.useEffect)((function(){ve(t.params.compId).then((function(e){return S(e)})).catch((function(e){return h(e.message)}))}),[t.params.compId]);var I=Object(n.useState)(null),N=Object(Ie.a)(I,2),k=N[0],x=N[1];Object(n.useEffect)((function(){if(C){var e=C.persons.find((function(e){return e.wcaUserId===i.me.id}));e?e.roles.length>0?x("admin"):x("competitor"):x("spectator")}}),[i,C]);var P=Object(n.useState)(null),T=Object(Ie.a)(P,2),A=T[0],D=T[1];return Object(n.useEffect)((function(){"admin"===k?ye(t.params.compId).then((function(e){D(e),p(!1)})):(D(C),p(!1))}),[k,t.params.compId,C]),r.a.createElement("div",{className:s.root},b?r.a.createElement(Nt,{message:b}):!k||f?r.a.createElement(ce.a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,null),r.a.createElement("nav",{className:s.drawer,"aria-label":"mailbox folders"},r.a.createElement(ke.a,{smUp:!0,implementation:"css"},r.a.createElement(Ne.a,{container:c,variant:"temporary",anchor:"left",open:o,onClose:l,classes:{paper:s.drawerPaper},ModalProps:{keepMounted:!0}},r.a.createElement("div",null,r.a.createElement("div",{className:s.toolbar}),r.a.createElement(Je,{user:k,onClick:u})))),r.a.createElement(ke.a,{xsDown:!0,implementation:"css"},r.a.createElement(Ne.a,{classes:{paper:s.drawerPaper},variant:"permanent",open:!0},r.a.createElement("div",null,r.a.createElement("div",{className:s.toolbar}),r.a.createElement(Je,{user:k,onClick:u}))))),r.a.createElement("main",{className:s.content},r.a.createElement(r.a.Fragment,null,r.a.createElement(en,{localWcif:A,history:a,user:k,compId:t.params.compId,userInfo:i})))))},nn=a(295),rn=a(169),cn=Object(rn.a)(r.a,{useCssModules:!1}),on=Object(Mt.a)((function(e){return{paper:{height:400,overflow:"auto"},list:{textAlign:"center"}}}));function ln(e){var t=e.comps,a=e.subheader,c=e.date,o=void 0!==c&&c,l=Object(n.useState)(""),i=Object(Ie.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)(t),f=Object(Ie.a)(m,2),p=f[0],g=f[1],E=on();return r.a.createElement(Ht.a,null,r.a.createElement(Pe.a,{className:E.list,style:{overflow:"auto"},subheader:r.a.createElement(nn.a,{disableSticky:!0},a)},0===t.length?r.a.createElement(Te.a,null,r.a.createElement(De.a,null,"You have no upcoming comps!")):r.a.createElement(Te.a,{className:E.list},r.a.createElement(ta.a,{value:s,onChange:function(e){u(e.target.value),""===e.target.value?g(t):g(t.filter((function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())})))},fullWidth:!0,label:"Search",id:"outlined-basic"})),p.map((function(e){return r.a.createElement(Te.a,{alignItems:"center",key:e.id,button:!0,component:d.b,to:"/competitions/".concat(e.id,"/overview")},r.a.createElement(Ae.a,{children:r.a.createElement(cn,{size:"2x",code:e.country_iso2.toLowerCase()})}),r.a.createElement(De.a,{key:e.id+"-about",primary:e.name,secondary:o?r.a.createElement(r.a.Fragment,{key:e.id+"-fragment"},r.a.createElement(h.a,{key:e.id+"date",component:"span",variant:"body2",color:"textPrimary"},be(e.start_date,e.end_date))):r.a.createElement(r.a.Fragment,null," ")}))}))))}var sn=a(313),un=a(297);var mn=function(e){var t=e.myUpcomingComps,a=(e.userInfo,Object(n.useState)([])),c=Object(Ie.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)(!0),s=Object(Ie.a)(i,2),u=s[0],m=s[1],d=r.a.useState(t.length>0?1:0),f=Object(Ie.a)(d,2),p=f[0],g=f[1];return Object(n.useEffect)((function(){we(1).then((function(e){l(e),m(!1)}))}),[]),r.a.createElement(r.a.Fragment,null,u?r.a.createElement(ce.a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(sn.a,{value:p,onChange:function(e,t){return g(t)},variant:"fullWidth"},r.a.createElement(un.a,{label:"Upcoming Competitions"}),r.a.createElement(un.a,{label:"Your Competitions"})),0===p&&r.a.createElement(ln,{comps:o}),1===p&&r.a.createElement(ln,{date:!0,comps:t})))},dn=a(312),fn=Object(v.a)((function(e){return{box:{borderRadius:"25px",margin:"auto",height:"80%",width:"100%",padding:e.spacing(2)},icon:{fontSize:"4vmax"},grid:{padding:e.spacing(3)},body:{margin:e.spacing(3)}}}));function pn(){var e=fn();return r.a.createElement(r.a.Fragment,null,r.a.createElement(dn.a,{className:e.box,bgcolor:"background.paper"},r.a.createElement(W.a,{container:!0,className:e.grid,direction:"column",alignItems:"center",spacing:1},r.a.createElement(W.a,{item:!0},r.a.createElement(A.a,{className:e.icon})),r.a.createElement(W.a,{item:!0},r.a.createElement(h.a,{color:"textPrimary",variant:"h2"},"myComp")),r.a.createElement(W.a,{item:!0},r.a.createElement(h.a,{color:"textSecondary",variant:"subtitle2"},"Live WCA Competition Feedback Software"))),r.a.createElement(xe.a,null),r.a.createElement(h.a,{algin:"center",className:e.body,color:"textPrimary",variant:"h6"},"myComp is an open source 3rd party WCA Application currently in beta designed to aid WCA Competition Organizers, Delegates, Competitors & Spectators during the event, real-time. It will support features like "),r.a.createElement(h.a,{className:e.body,align:"left",variant:"h6"}," \u2714\ufe0f Group Assignments and Easy Visibility"),r.a.createElement(h.a,{className:e.body,align:"left",variant:"h6"}," \u2714\ufe0f Live Automated Projector"),r.a.createElement(h.a,{className:e.body,align:"left",variant:"h6"}," \u2714\ufe0f Push notifications via SMS & Telegram "),r.a.createElement(h.a,{className:e.body,align:"left",variant:"h6"}," \u2714\ufe0f Incident Reporting and Management"),r.a.createElement(h.a,{className:e.body,align:"left",variant:"h6"}," \u2714\ufe0f E-Certificates "),r.a.createElement(h.a,{className:e.body,align:"left",variant:"h6"}," and much more!"),r.a.createElement(h.a,{className:e.body,variant:"h6"},"If you're an organizer/delegate and would like to use myComp, or you have any feedback/bugs with the beta,"," ",r.a.createElement(L.a,{href:"mailto:saransh.grover@stonybrook.edu"},"shoot me an email"))))}var gn=a(298),En=a(227),bn=a(165),hn=a.n(bn),vn=a(166),yn=a.n(vn),On=a(168),wn=a.n(On),jn=a(167),Cn=a.n(jn),Sn=function(e,t){var a=[],n=!0,r=!1,c=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var i=o.value,s=ie()("2019-11-23T14:15:00Z");0===i.childActivities.length&&s.isBetween(ie()(i.startTime).add(t[i.room.id],"minutes"),ie()(i.endTime).add(t[i.room.id],"minutes"))&&a.push(i)}}catch(u){r=!0,c=u}finally{try{n||null==l.return||l.return()}finally{if(r)throw c}}return a},In=Object(v.a)((function(e){return{root:{width:"100%"},title:{fontSize:"6vh"},paper:{backgroundColor:e.palette.background.paper},list:{backgroundColor:e.palette.background.paper}}}));function Nn(e){var t=e.wcif,a=Object(n.useState)([]),c=Object(Ie.a)(a,2),o=c[0],l=c[1];Object(n.useEffect)((function(){var e=t.schedule.venues,a=[],n=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var s=o.value,u=!0,m=!1,d=void 0;try{for(var f,p=s.rooms[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var g=f.value;a.push(parseInt(tt("ScheduleConfig",g).delay))}}catch(E){m=!0,d=E}finally{try{u||null==p.return||p.return()}finally{if(m)throw d}}}}catch(E){r=!0,c=E}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}l(a)}),[t]);var i=Object(n.useState)([]),s=Object(Ie.a)(i,2),u=s[0],m=s[1];Object(n.useEffect)((function(){m(Sn(it(t.schedule),o))}),[o,t.schedule]);var d=In();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ht.a,{className:d.paper,square:!0,elevation:24},r.a.createElement(Pe.a,{className:d.list,subheader:r.a.createElement(nn.a,null,r.a.createElement(h.a,{align:"center",className:d.title},"Happening Now!"))},u&&u.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Te.a,{style:{backgroundColor:e.room.color},alignItems:"center"},r.a.createElement(De.a,{primary:e.name,secondary:"Jan 9, 2014"})),r.a.createElement(xe.a,null))})))))}function kn(){return r.a.createElement("div",null)}function xn(){return r.a.createElement("div",null)}function Pn(){return r.a.createElement("div",null)}function Tn(){return r.a.createElement("div",null)}var An=Object(v.a)((function(e){return{logo:{maxHeight:150,maxWidth:100},section:{height:"100%"},root:{minWidth:"100%",height:"15%"},name:{fontSize:"calc(16px + 5vh)"},icon:{fontSize:"8vmin"},label:{fontSize:"4vmin"},toolbar:e.mixins.toolbar}})),Dn=r.a.forwardRef((function(e,t){return r.a.createElement(En.a,Object.assign({direction:"up",ref:t},e))})),Gn={AGENDA:hn.a,COMPETING:yn.a,INFO:M.a,SPOTLIGHT:Cn.a,RESULTS:wn.a},Rn=function(e,t){return e===t-1?0:e+1},Un=function(e){switch(e){case"AGENDA":return 5e3;case"COMPETING":return 6e3;case"INFO":case"SPOTLIGHT":case"RESULTS":return 7e3;case void 0:return 2e3;default:return 5e3}};function zn(e){var t=e.match,a=Object(n.useState)(!0),c=Object(Ie.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)(null),s=Object(Ie.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)(null),f=Object(Ie.a)(d,2),p=f[0],g=f[1],E=Object(n.useState)(["AGENDA","COMPETING","INFO","SPOTLIGHT","RESULTS"]),b=Object(Ie.a)(E,1)[0],v=Object(n.useState)(-1),y=Object(Ie.a)(v,2),O=y[0],w=y[1],j=r.a.useRef(O);j.current=O;Object(n.useEffect)((function(){var e=setInterval((function(){ye(t.params.compId).then((function(e){return m(e)})).catch((function(e){return g(e.message)})),w(Rn(j.current,b.length)),l(!1)}),Un(b[j.current]));return function(){clearTimeout(e)}}),[t.params.compId,O,b]);var C=An();return r.a.createElement("div",null,o&&r.a.createElement(ce.a,null),p&&r.a.createElement(Nt,{message:p}),!o&&u&&r.a.createElement(gn.a,{fullScreen:!0,open:!0,TransitionComponent:Dn},r.a.createElement(W.a,{className:C.root,container:!0,justify:"space-around",direction:"row",alignItems:"center"},r.a.createElement(W.a,{item:!0},r.a.createElement(h.a,{className:C.name},u.name)),r.a.createElement(W.a,{item:!0},r.a.createElement(sn.a,{centered:!0,value:O},b.map((function(e){var t=Gn[e];return r.a.createElement(un.a,{key:e,label:r.a.createElement(h.a,{className:C.label},e),icon:r.a.createElement(t,{className:C.icon})})}))))),r.a.createElement("div",{className:C.toolbar}),function(){switch(b[O]){case"AGENDA":return r.a.createElement(Nn,{wcif:u});case"COMPETING":return r.a.createElement(kn,{wcif:u});case"INFO":return r.a.createElement(xn,{wcif:u});case"SPOTLIGHT":return r.a.createElement(Tn,{wcif:u});case"RESULTS":return r.a.createElement(Pn,{wcif:u});default:return r.a.createElement(Nt,null)}}()))}var Wn={fontFamily:["Playfair Display","Open Sans",'"Helvetica Neue"','"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")},Ln={palette:{primary:ae.a,secondary:re.a,type:"dark"},typography:Wn},Fn={palette:{primary:ae.a,secondary:re.a,type:"light"},typography:Wn},Mn=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).setMobileOpen=function(){a.setState({mobileOpen:!a.state.mobileOpen})},a.onSignOut=function(){a.setState({userInfo:null,signedIn:!1,loadingAll:!0,loadingAdmin:!0}),x()},a.toggleDarkTheme=function(){var e="light"===a.state.theme.palette.type?Ln:Fn;a.setState({theme:e})},a.state={userInfo:a.props.userInfo,signedIn:P(),theme:Ln,mobileOpen:!1,upcomingComps:null,managableComps:null,loadinAdmin:!0,loadingAll:!0},a.state.signedIn&&(Oe(a.state.userInfo.me.id).then((function(e){return a.setState({upcomingComps:Ee(e.upcoming_competitions),loadingAll:!1})})),je(a.state.userInfo.me.id).then((function(e){return a.setState({managableComps:Ee(e),loadingAdmin:!1})}))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.signedIn,n=t.userInfo,c=t.theme,o=t.mobileOpen,l=t.upcomingComps,i=t.managableComps,s=t.loadingAdmin,u=t.loadingAll,m=Object(Q.a)(c);return r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a,{theme:m},r.a.createElement(ee.a,null),r.a.createElement(d.a,{basename:""},r.a.createElement(f.b,{render:function(t){return r.a.createElement(z,Object.assign({},t,{userInfo:n,onSignOut:e.onSignOut,setMobileOpen:e.setMobileOpen}))}}),(u||s)&&a&&r.a.createElement(ce.a,null),u||s||!a?r.a.createElement(f.d,null,r.a.createElement(f.b,{exact:!0,path:"/about",component:pn}),r.a.createElement(f.b,{exact:!0,path:"/",component:pn}),r.a.createElement(f.b,{path:"/project/:compId",component:zn})):r.a.createElement(f.d,null,r.a.createElement(f.b,{exact:!0,path:"".concat("","/competitions"),render:function(t){return r.a.createElement(mn,Object.assign({},t,{userInfo:n,myUpcomingComps:e.state.upcomingComps}))}}),r.a.createElement(f.b,{path:"/project/:compId",component:zn}),r.a.createElement(f.b,{path:"/competitions/:compId/",render:function(t){return r.a.createElement(an,Object.assign({},t,{userInfo:n,mobileOpen:o,setMobileOpen:e.setMobileOpen,managableComps:i,upcomingComps:l}))}}),r.a.createElement(f.b,{exact:!0,path:"/"},r.a.createElement(f.a,{to:"/competitions"})),r.a.createElement(f.b,{exact:!0,path:"/about",component:pn}))),r.a.createElement($,{currTheme:c.palette.type,onThemeChange:this.toggleDarkTheme})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));!function(){var e=window.location.hash.replace(/^#/,""),t=new URLSearchParams(e);if(t.has("access_token")&&localStorage.setItem(S("accessToken"),t.get("access_token")),t.has("expires_in")){var a=t.get("expires_in")-900,n=new Date((new Date).getTime()+1e3*a);localStorage.setItem(S("expirationTime"),n.toISOString())}var r=localStorage.getItem(S("expirationTime"));r&&new Date>=new Date(r)&&x(),t.has("access_token")&&j.replace(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},j.location,{hash:null}));var c=localStorage.getItem(S("redirectPath"));c&&(window.location.replace(c),localStorage.removeItem(S("redirectPath")));var o=window.location.pathname;"/"===o||P()||(localStorage.setItem(S("redirectPath"),o),N())}(),P()?Ce("/me").then((function(e){o.a.render(r.a.createElement(Mn,{userInfo:e}),document.getElementById("root"))})):o.a.render(r.a.createElement(Mn,{userInfo:{}}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[205,1,2]]]);
//# sourceMappingURL=main.7dbdc17d.chunk.js.map