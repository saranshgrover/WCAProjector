{"version":3,"sources":["server/wca-env.js","server/history.js","server/auth.js","components/common/Header.js","components/common/Footer.js","server/tools.js","server/wca-api.js","components/Competition/Dashboard/DashboardList.js","components/Competition/Notifications/Notifications.js","server/wcif.js","components/Competition/Overview/OverviewLogic.js","components/common/Error.js","components/Competition/Groups/GroupsActivity.js","components/logic/activity.js","components/logic/event.js","components/Competition/Groups/GroupsEvent.js","components/Competition/Groups/GroupsRound.js","components/common/EventList.js","components/Competition/Status/CompetitionStatus.js","components/Competition/Groups/GroupsActivities.js","components/Competition/Groups/GroupsUser.js","components/Competition/Groups/CompetitorList.js","components/Competition/Groups/GroupsUsers.js","components/Competition/Groups/Groups.js","components/Competition/Overview/OverviewFilterChips.js","components/Competition/Overview/Overview.js","components/Competition/Admin/ProjectorRoomAdmin.js","components/Competition/Admin/ProjectorAdmin.js","components/Competition/Admin/GeneralAdmin.js","components/Competition/Admin/NotificationsAdmin.js","components/Competition/Admin/Admin.js","components/common/MySnackbar.js","components/Competition/Competition.js","components/Competition/Dashboard/Dashboard.js","components/Landing/CompList.js","components/Landing/LandingSignedIn.js","components/Landing/WelcomeLanding.js","components/Projector/ProjectorLogic.js","components/Projector/Screens/AgendaScreen.js","components/Projector/Screens/GroupScreen.js","components/Projector/Screens/InfoScreen.js","components/Projector/Screens/ResultsScreen.js","components/Projector/Screens/SpotlightScreen.js","components/Projector/Projector.js","components/Landing/App.js","serviceWorker.js","index.js"],"names":["WCA_ORIGIN","history","createBrowserHistory","localStorageKey","key","wcaAccessToken","localStorage","getItem","signIn","params","URLSearchParams","client_id","response_type","redirect_uri","oauthRedirectUri","scope","window","location","toString","appUri","origin","search","has","signOut","removeItem","isSignedIn","useStyles","makeStyles","theme","appBar","zIndex","drawer","title","textDecoration","color","flexGrow","marginLeft","spacing","titleIcon","marginRight","username","Header","setMobileOpen","userInfo","onSignOut","classes","AppBar","position","className","Toolbar","isMobile","IconButton","onClick","size","Typography","variant","component","Link","to","Button","me","name","root","bottom","width","overflow","padding","grow","link","verticalAlign","fontWeight","opacity","footerPadding","height","Footer","currTheme","onThemeChange","Grid","container","item","Tooltip","href","version","isHappening","schedule","startDate","moment","endDate","add","numberOfDays","isBetween","updateIn","object","updater","property","properyChain","length","mapIn","mapper","array","map","setIn","value","sortOutput","a","b","sortArrayByDate","arr","sort","Date","start_date","compDatesToString","start","end","today","isSame","Math","floor","duration","diff","asDays","format","getPreciseTime","wcaTime","wcaTimeStr","slice","getWcifPublic","competitionId","wcaApiFetch","getWcif","getMyUpcomingComps","userId","getAllCompsToday","pageNum","toISOString","page","getMyManagableComps","startOf","managed_by_me","path","fetchOptions","baseApiUrl","fetch","Object","assign","headers","Headers","Authorization","then","response","ok","Error","statusText","json","saveWcifChanges","previousWcif","newWcif","wcif","obj","keysDiff","keys","filter","Promise","resolve","id","reduce","newObj","method","body","JSON","stringify","DashboardList","user","getIcon","text","style","marginTop","Divider","List","ListItem","button","ListItemIcon","ListItemText","primary","Notifications","getExtensionId","extensionName","buildExtension","data","specUrl","setExtensionData","wcifEntity","otherExtensions","extensions","extension","defaultExtensionData","GeneralConfig","useProjector","useGroups","groupTool","useTelegramNotif","logoLink","undefined","channelName","ScheduleConfig","delay","currentActivity","pinnedMessage","groupUpdate","getExtensionData","find","defaultData","isExtensionSetup","wcifEntitiy","getMyAssignmentsInOrder","wcaId","isWcaId","test","persons","person","wcaUserId","parseInt","userAssignments","assignments","activity1","activity2","aTime","bTime","venues","forEach","venue","rooms","room","activities","activity","childActivities","childActivity","startTime","findEarlierActivityId","activityId","getMyEventsInOrder","userEvents","registration","eventIds","findEarlierEventId","event1","event2","activityCode","flattenActivities","flatActivites","push","assignedTo","assignment","getScheduleData","events","unselectedVenues","unselectedAssignments","includes","indexOf","assignmentCode","endTime","getEventFromActivity","activityKey","getGroupFromActivity","lastIndexOf","pyram","skewb","clock","sq1","minx","getActivityIdFromCode","getAssignmentsFromActivityId","compete","staff","asssignment","getPersonalBestFromActivity","competitor","event","activityEvent","personalBests","e","eventId","best","getDelays","delays","message","createStyles","textAlign","palette","type","error","dark","light","fontSize","Container","margin","top","backgroundColor","main","header","secondary","table","maxWidth","tableCell","paddingRight","paddingLeft","GroupsActivity","round","group","useState","loading","setLoading","groupInfo","setGroupInfo","useEffect","LinearProgress","Table","TableHead","TableRow","TableCell","align","colSpan","TableBody","parseRoundFromActivity","substring","parseGroupFromActivity","getGroupsOf","roundActivity","groups","activityUrl","parseAdvancementCondition","condition","level","leve","parseCutoff","cutoff","attemptResult","numberOfAttempts","cursor","GroupsEvent","setRound","eventInfo","setEventInfo","localEvent","rounds","handleChangeRound","advancementCondition","GroupsRound","setGroup","setGroups","index","handleChangeGroup","utc","icon","iconSelect","EventList","selected","justify","alignment","showName","direction","paper","maxHeight","marginBottom","CompetitionStatus","roomDelays","Paper","alignItems","Fragment","GroupsActivities","match","setActivities","setEvents","localEvents","setEvent","handleChange","noEvent","noRound","noGroup","Breadcrumbs","GroupsUser","myAssignments","mySchedule","xs","tz","timezone","list","CompetitorList","competitors","console","log","query","setQuery","queryCompetitors","setQueryCompetitors","TextField","onChange","target","toLowerCase","toUpperCase","fullWidth","label","ListItemAvatar","Avatar","alt","src","avatar","thumbUrl","GroupsUsers","getUserLink","isNaN","setPerson","values","Autocomplete","options","getOptionLabel","renderInput","Groups","render","props","wca_id","OverviewFilterChips","unselectedRooms","setUnselectedRooms","setUnselectedAssignments","Chip","clickable","roomId","duty","card","Appointment","Overview","selectedUser","setSelectedUser","MyEvents","setMyEvents","MyAssignments","setMyAssignemnts","selectedEvents","setSelectedEvents","activties","setData","currentDate","startDayHour","endDayHour","cellDuration","appointmentComponent","ProjectorRoomAdmin","onRoomChange","onValueChange","localConfig","InputLabelProps","shrink","multiline","rows","helperText","justifyContent","ProjectorAdmin","setWcif","updateProjectorConfig","projectorConfigUpdate","newRoom","ExpansionPanelDetails","FormGroup","gutterBottom","ButtonGroup","ExpansionPanelActions","GeneralAdmin","updateGeneralConfig","onCheckboxChange","checked","FormControlLabel","control","Switch","FormHelperText","required","minWidth","InputLabel","htmlFor","NativeSelect","NotificationsAdmin","heading","typography","pxToRem","fontWeightRegular","mainLoader","left","Admin","localWcif","setLocalWcif","onWcifUpdate","catch","err","CircularProgress","ExpansionPanel","ExpansionPanelSummary","expandIcon","aria-controls","disabled","updateNotificationsConfig","variantIcon","success","CheckCircleIcon","warning","WarningIcon","ErrorIcon","info","InfoIcon","useStyles1","green","amber","iconVariant","display","MySnackbarContentWrapper","onClose","other","Icon","SnackbarContent","clsx","aria-describedby","action","aria-label","useStyles2","MySnackbar","React","open","setOpen","handleClose","reason","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","Competition","compId","exact","breakpoints","up","flexShrink","menuButton","toolbar","mixins","drawerPaper","content","Dashboard","mobileOpen","managableComps","upcomingComps","onItemChange","setCurrentComponent","setError","wcifPublic","setWcifPublic","setUser","roles","CssBaseline","Hidden","smUp","implementation","Drawer","anchor","ModalProps","keepMounted","xsDown","FlagIcon","FlagIconFactory","useCssModules","CompList","comps","subheader","date","queryComps","setQueryComps","ListSubheader","disableSticky","comp","children","code","country_iso2","end_date","LandingSignedIn","myUpcomingComps","allCompsToday","setAllCompsToday","loadingToday","setLoadingToday","setValue","Tabs","Tab","box","borderRadius","grid","WelcomeLanding","Box","bgcolor","algin","getCurrentEvents","currentEvents","now","background","AgendaScreen","setDelays","setCurrentEvents","square","elevation","GroupScreen","InfoScreen","ResultsScreen","SpotlightScreen","logo","section","Transition","forwardRef","ref","Slide","ICON","AGENDA","TodayIcon","COMPETING","DirectionsWalkIcon","INFO","SPOTLIGHT","EmojiEventsIcon","RESULTS","EqualizerIcon","getIndex","currentScreen","DURATION","screen","Projector","screens","setCurrentScreen","currentScreenRef","useRef","current","timeout","setInterval","clearTimeout","Dialog","fullScreen","TransitionComponent","centered","CurrIcon","getScreenFromName","fontFamily","join","darkTheme","blue","blueGrey","lightTheme","App","setState","state","signedIn","loadingAll","loadingAdmin","toggleDarkTheme","newTheme","loadinAdmin","res","upcoming_competitions","this","muiTheme","createMuiTheme","ThemeProvider","basename","process","Component","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","hash","replace","hashParams","setItem","get","expiresInSeconds","expirationTime","getTime","redirectPath","pathname","initializeAuth","ReactDOM","document","getElementById","URL","addEventListener","contentType","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.664ffc05.chunk.js","sourcesContent":["export const PRODUCTION = process.env.NODE_ENV === 'production'\n\nexport const WCA_ORIGIN = PRODUCTION\n  ? 'https://www.worldcubeassociation.org'\n  : 'https://staging.worldcubeassociation.org'\n\nexport const WCA_OAUTH_CLIENT_ID = PRODUCTION\n  ? 'NknZHB8kACnmpBV24fKKcwV8PRGijwjjtaT8iTx4yNg'\n  : 'example-application-id'\n","import { createBrowserHistory } from 'history'\n\nconst history = createBrowserHistory()\n\nexport default history\n","import { WCA_ORIGIN, WCA_OAUTH_CLIENT_ID } from './wca-env'\nimport history from './history'\n\n/* Use separate set of keys for each OAuth client (e.g. for WCA production and staging). */\nconst localStorageKey = key => `WCA-Real-Time.${WCA_OAUTH_CLIENT_ID}.${key}`\n\n/**\n * Checks the URL hash for presence of OAuth access token\n * and saves it in the local storage if it's found.\n * Should be called on application initialization (before any kind of router takes over the location).\n */\nexport const initializeAuth = () => {\n  const hash = window.location.hash.replace(/^#/, '')\n  const hashParams = new URLSearchParams(hash)\n  if (hashParams.has('access_token')) {\n    localStorage.setItem(\n      localStorageKey('accessToken'),\n      hashParams.get('access_token')\n    )\n  }\n  if (hashParams.has('expires_in')) {\n    /* Expire the token 15 minutes before it actually does,\n       this way it doesn't expire right after the user enters the page. */\n    const expiresInSeconds = hashParams.get('expires_in') - 15 * 60\n    const expirationTime = new Date(\n      new Date().getTime() + expiresInSeconds * 1000\n    )\n    localStorage.setItem(\n      localStorageKey('expirationTime'),\n      expirationTime.toISOString()\n    )\n  }\n  /* If the token expired, sign the user out. */\n  const expirationTime = localStorage.getItem(localStorageKey('expirationTime'))\n  if (expirationTime && new Date() >= new Date(expirationTime)) {\n    signOut()\n  }\n  /* Clear the hash if there is a token. */\n  if (hashParams.has('access_token')) {\n    history.replace({ ...history.location, hash: null })\n  }\n\n  /* Check if we know what path to redirect to (after OAuth redirect). */\n  const redirectPath = localStorage.getItem(localStorageKey('redirectPath'))\n  if (redirectPath) {\n    window.location.replace(redirectPath)\n    localStorage.removeItem(localStorageKey('redirectPath'))\n  }\n  /* If non-signed in user tries accessing a competition path, redirect to OAuth sign in straightaway. */\n  const path = window.location.pathname\n  if (path !== '/' && !isSignedIn()) {\n    localStorage.setItem(localStorageKey('redirectPath'), path)\n    signIn()\n  }\n}\n\nexport const wcaAccessToken = () =>\n  localStorage.getItem(localStorageKey('accessToken'))\n\nexport const signIn = () => {\n  const params = new URLSearchParams({\n    client_id: WCA_OAUTH_CLIENT_ID,\n    response_type: 'token',\n    redirect_uri: oauthRedirectUri(),\n    scope: 'public manage_competitions dob email'\n  })\n  window.location = `${WCA_ORIGIN}/oauth/authorize?${params.toString()}`\n}\n\nconst oauthRedirectUri = () => {\n  const appUri = window.location.origin\n  const searchParams = new URLSearchParams(window.location.search)\n  const stagingParam = searchParams.has('staging')\n  return stagingParam ? `${appUri}?staging=true` : appUri\n}\n\nexport const signOut = () => {\n  localStorage.removeItem(localStorageKey('accessToken'))\n}\n\nexport const isSignedIn = () => !!wcaAccessToken()\n","import React, { Fragment } from 'react'\nimport { Link } from 'react-router-dom'\nimport AppBar from '@material-ui/core/AppBar'\nimport Button from '@material-ui/core/Button'\nimport IconButton from '@material-ui/core/IconButton'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Typography from '@material-ui/core/Typography'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { signIn, isSignedIn } from '../../server/auth'\nimport FlipCameraAndroidIcon from '@material-ui/icons/FlipCameraAndroid'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport { isMobile } from 'react-device-detect'\n\nconst useStyles = makeStyles(theme => ({\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1\n  },\n  title: {\n    textDecoration: 'none',\n    color: 'white',\n    flexGrow: 1,\n    marginLeft: theme.spacing(1)\n  },\n  titleIcon: {\n    marginRight: theme.spacing(2)\n  },\n  username: {\n    marginRight: theme.spacing(1)\n  }\n}))\n\nconst Header = ({ history, setMobileOpen, userInfo, onSignOut }) => {\n  const classes = useStyles()\n  return (\n    <AppBar position='sticky' color='primary' className={classes.appBar}>\n      <Toolbar spacing={2} className={classes.titleIcon}>\n        {isMobile && (\n          <IconButton onClick={setMobileOpen} className={classes.titleIcon}>\n            <MenuIcon size={10} />\n          </IconButton>\n        )}\n        <FlipCameraAndroidIcon />\n        <Typography\n          variant='h6'\n          className={classes.title}\n          component={Link}\n          to={'/'}\n        >\n          myComp\n        </Typography>\n        {userInfo && isSignedIn() ? (\n          <Fragment>\n            <Button color='inherit' onClick={onSignOut}>\n              {userInfo.me.name}\n            </Button>\n          </Fragment>\n        ) : (\n          <Button color='inherit' onClick={signIn}>\n            Sign in with the WCA\n          </Button>\n        )}\n      </Toolbar>\n    </AppBar>\n  )\n}\n\nexport default Header\n","import React from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport Link from '@material-ui/core/Link'\n// import Typography from '@material-ui/core/Typography';\nimport InfoIcon from '@material-ui/icons/Info'\nimport ContactMailIcon from '@material-ui/icons/ContactMail'\nimport EmojiObjectsIcon from '@material-ui/icons/EmojiObjects'\nimport { makeStyles } from '@material-ui/core/styles'\nimport GitHubIcon from '@material-ui/icons/GitHub'\nimport { version } from '../../../package.json'\nimport { Tooltip } from '@material-ui/core'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    position: 'absolute',\n    bottom: 0,\n    width: '100%',\n    overflow: 'hidden',\n    padding: theme.spacing(2)\n  },\n  grow: {\n    flexGrow: 1\n  },\n  link: {\n    verticalAlign: 'middle',\n    fontWeight: 500,\n    '&:hover': {\n      textDecoration: 'none',\n      opacity: 0.7\n    }\n  },\n  footerPadding: {\n    width: '100%',\n    height: 50\n  }\n}))\n\nconst Footer = ({ currTheme, onThemeChange }) => {\n  const classes = useStyles()\n  return (\n    <>\n      <div className={classes.footerPadding} />\n\n      <Grid container className={classes.root}>\n        <Grid item className={classes.grow} />\n        <Grid item>\n          <Grid container spacing={2}>\n            <Tooltip title={'Gitub'}>\n              <Grid item key='Github'>\n                <Link\n                  className={classes.link}\n                  variant='body2'\n                  href={'https://github.com/saranshgrover/WCARealTime'}\n                >\n                  <GitHubIcon />\n                </Link>\n              </Grid>\n            </Tooltip>\n            <Tooltip title={'Contact'}>\n              <Grid item key='Contact'>\n                <Link\n                  className={classes.link}\n                  variant='body2'\n                  href={'mailto:ycubiksrube@gmail.com'}\n                >\n                  <ContactMailIcon />\n                </Link>\n              </Grid>\n            </Tooltip>\n            <Tooltip\n              title={\n                currTheme === 'light' ? 'Switch to Dark' : 'Switch to Light'\n              }\n            >\n              <Grid item key='Theme'>\n                <Link\n                  className={classes.link}\n                  variant='body2'\n                  onClick={onThemeChange}\n                >\n                  <EmojiObjectsIcon />\n                </Link>\n              </Grid>\n            </Tooltip>\n            <Tooltip title={'About'}>\n              <Grid item key='Info'>\n                <Link className={classes.link} variant='body2' href={'/about'}>\n                  <InfoIcon size={20} />\n                </Link>\n              </Grid>\n            </Tooltip>\n            <Grid item key='Version'>\n              <Link\n                className={classes.link}\n                variant='body2'\n                href={'https://github.com/saranshgrover/WCARealTime/releases'}\n              >\n                {version}\n              </Link>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n    </>\n  )\n}\n\nexport default Footer\n","import moment from 'moment'\n\nexport const isHappening = schedule => {\n  const startDate = moment(schedule.startDate)\n  const endDate = moment(schedule.startDate).add(schedule.numberOfDays, 'days')\n  return moment().isBetween(startDate, endDate, 'days', '[]')\n}\n\nexport const updateIn = (object, [property, ...properyChain], updater) =>\n  properyChain.length === 0\n    ? { ...object, [property]: updater(object[property]) }\n    : {\n        ...object,\n        [property]: updateIn(object[property], properyChain, updater)\n      }\n\nexport const mapIn = (object, properyChain, mapper) =>\n  updateIn(object, properyChain, array => array && array.map(mapper))\n\nexport const setIn = (object, properyChain, value) =>\n  updateIn(object, properyChain, () => value)\n\nconst sortOutput = (a, b) => (a > b ? 1 : b > a ? -1 : 0)\n\nexport const sortArrayBy = (arr, criteria) => {\n  return arr.sort((a, b) => sortOutput(a.criteria, b.criteria))\n}\nexport const sortArrayByDate = arr => {\n  return arr.sort((a, b) =>\n    sortOutput(new Date(a.start_date), new Date(b.start_date))\n  )\n}\n\nexport const compDatesToString = (start, end) => {\n  const today = moment()\n  if (today >= moment(start) && today <= moment(end)) {\n    return 'Happening Now!'\n  } else if (moment(start).isSame(new Date(), 'month')) {\n    return `In ${Math.floor(\n      moment.duration(moment(start).diff(today)).asDays()\n    )} Days!`\n  } else {\n    return `${moment(start).format('MMM Do')} - ${moment(end).format('Do')}`\n  }\n}\n\nexport const pick = (obj, keys) =>\n  keys.reduce((newObj, key) => ({ ...newObj, [key]: obj[key] }), {})\n\nexport const getPreciseTime = wcaTime => {\n  const wcaTimeStr = wcaTime.toString()\n  const time = `${wcaTimeStr.slice(0, -2)}.${wcaTimeStr.slice(-2)}`\n  return time\n}\n","import { WCA_ORIGIN } from './wca-env'\nimport { wcaAccessToken } from './auth'\nimport { pick } from './tools'\nimport moment from 'moment'\n\nexport const getWcifPublic = competitionId =>\n  wcaApiFetch(`/competitions/${competitionId}/wcif/public`)\n\nexport const getWcif = competitionId =>\n  wcaApiFetch(`/competitions/${competitionId}/wcif`)\n\nexport const getMyUpcomingComps = userId => {\n  return wcaApiFetch(`/users/${userId}?upcoming_competitions=true`)\n}\n\nexport const getAllCompsToday = pageNum => {\n  let today = moment()\n  const params = new URLSearchParams({\n    start: today.toISOString(),\n    end: today.add(7, 'days').toISOString(),\n    page: pageNum,\n    sort: 'start_date'\n  })\n  return wcaApiFetch(`/competitions?${params.toString()}`)\n}\n\nexport const getMyManagableComps = () => {\n  const today = moment().startOf('day')\n  const params = new URLSearchParams({\n    managed_by_me: true,\n    start: today.toISOString()\n  })\n  return wcaApiFetch(`/competitions?${params.toString()}`)\n}\n\nexport const getMe = () => wcaApiFetch(`/me`)\n\nconst wcaApiFetch = (path, fetchOptions = {}) => {\n  const baseApiUrl = `${WCA_ORIGIN}/api/v0`\n\n  return fetch(\n    `${baseApiUrl}${path}`,\n    Object.assign({}, fetchOptions, {\n      headers: new Headers({\n        Authorization: `Bearer ${wcaAccessToken()}`,\n        'Content-Type': 'application/json'\n      })\n    })\n  )\n    .then(response => {\n      if (!response.ok) throw new Error(response.statusText)\n      return response\n    })\n    .then(response => response.json())\n}\n\nconst updateWcif = (competitionId, wcif) =>\n  wcaApiFetch(`/competitions/${competitionId}/wcif`, {\n    method: 'PATCH',\n    body: JSON.stringify(wcif)\n  })\n\nexport const saveWcifChanges = (previousWcif, newWcif) => {\n  const keysDiff = Object.keys(newWcif).filter(\n    key => previousWcif[key] !== newWcif[key]\n  )\n  if (keysDiff.length === 0) return Promise.resolve()\n  return updateWcif(newWcif.id, pick(newWcif, keysDiff))\n}\n","import React from 'react'\nimport Divider from '@material-ui/core/Divider'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport NotificationsIcon from '@material-ui/icons/Notifications'\nimport AppsIcon from '@material-ui/icons/Apps'\nimport VideocamIcon from '@material-ui/icons/Videocam'\nimport GroupIcon from '@material-ui/icons/Group'\nimport SupervisorAccountIcon from '@material-ui/icons/SupervisorAccount'\nimport NotesIcon from '@material-ui/icons/Notes'\n\nexport default function DashboardList({ user, onClick }) {\n  const getIcon = text => {\n    switch (text) {\n      case 'Projector':\n        return <VideocamIcon />\n      case 'Groups':\n        return <GroupIcon />\n      case 'Notifications':\n        return <NotificationsIcon />\n      case 'Admin':\n        return <SupervisorAccountIcon />\n      case 'Incidents':\n        return <NotesIcon />\n      default:\n        return <AppsIcon />\n    }\n  }\n  return (\n    <div style={{ marginTop: '15px' }}>\n      <Divider />\n      <List>\n        {['Overview', 'Groups', 'Notifications'].map(text => (\n          <ListItem button key={text} onClick={() => onClick(text)}>\n            <ListItemIcon>{getIcon(text)}</ListItemIcon>\n            <ListItemText primary={text} />\n          </ListItem>\n        ))}\n      </List>\n      <Divider />\n      {user === 'admin' && (\n        <List>\n          {['Admin', 'Incidents'].map(text => (\n            <ListItem button key={text} onClick={() => onClick(text)}>\n              <ListItemIcon>{getIcon(text)}</ListItemIcon>\n              <ListItemText primary={text} />\n            </ListItem>\n          ))}\n        </List>\n      )}\n    </div>\n  )\n}\n","import React from 'react'\n\nexport default function Notifications() {\n  return <div></div>\n}\n","const getExtensionId = extensionName => `realtime.${extensionName}`\n\nconst buildExtension = (extensionName, data) => ({\n  id: getExtensionId(extensionName),\n  specUrl: `http://localhost:3000/wcif-extensions/${extensionName}.json`,\n  data\n})\n\nexport const setExtensionData = (extensionName, wcifEntity, data) => {\n  const otherExtensions = wcifEntity.extensions.filter(\n    extension => extension.id !== getExtensionId(extensionName)\n  )\n  return {\n    ...wcifEntity,\n    extensions: [...otherExtensions, buildExtension(extensionName, data)]\n  }\n}\n\nconst defaultExtensionData = {\n  GeneralConfig: {\n    useProjector: false,\n    useGroups: false,\n    groupTool: '',\n    useTelegramNotif: false,\n    logoLink: undefined,\n    channelName: undefined\n  },\n  ScheduleConfig: {\n    delay: 0,\n    currentActivity: undefined,\n    pinnedMessage: undefined,\n    groupUpdate: undefined\n  }\n}\n\nexport const getExtensionData = (extensionName, wcifEntity) => {\n  const extension = wcifEntity.extensions.find(\n    extension => extension.id === getExtensionId(extensionName)\n  )\n  let defaultData = defaultExtensionData[extensionName]\n  if (defaultData === null) return extension && extension.data\n  return extension ? { ...defaultData, ...extension.data } : defaultData\n}\n\nexport const isExtensionSetup = (extensionName, wcifEntitiy) =>\n  wcifEntitiy.extensions.filter(\n    extension => extension.id === getExtensionId(extensionName)\n  ).length > 0\n\nexport const removeExtensionData = (extensionName, wcifEntity) => ({\n  ...wcifEntity,\n  extensions: wcifEntity.extensions.filter(\n    extension => extension.id !== getExtensionId(extensionName)\n  )\n})\n","import { getPreciseTime } from '../../../server/tools'\nimport moment from 'moment'\nimport { getExtensionData } from '../../../server/wcif'\n\nconst findEarlierActivityId = (activity1, activity2, schedule) => {\n  let aTime\n  let bTime\n  schedule.venues.forEach(venue =>\n    venue.rooms.forEach(room =>\n      room.activities.forEach(activity => {\n        activity.childActivities.forEach(childActivity => {\n          if (childActivity.id === activity1)\n            aTime = new Date(childActivity.startTime)\n          else if (childActivity.id === activity2)\n            bTime = new Date(childActivity.startTime)\n        })\n      })\n    )\n  )\n  return aTime - bTime\n}\n\n/**\n *\n * Returns an array of the users assignments in order of the schedule.\n *\n * @param  userInfo\n * @param  wcif\n */\nexport const getMyAssignmentsInOrder = (wcaId, wcif) => {\n  const regExp = /\\d{4}[A-Z]{4}\\d{2}/\n  const isWcaId = regExp.test(wcaId)\n  const user = wcif.persons.find(person =>\n    isWcaId ? person.wcaId === wcaId : person.wcaUserId === parseInt(wcaId)\n  )\n  if (!user) return null\n  const userAssignments = user.assignments\n  const schedule = wcif.schedule\n  return userAssignments.sort((a, b) =>\n    findEarlierActivityId(a.activityId, b.activityId, schedule)\n  )\n}\n\nexport const getMyEventsInOrder = (wcaId, wcif) => {\n  const regExp = /\\d{4}[A-Z]{4}\\d{2}/\n  const isWcaId = regExp.test(wcaId)\n  const userEvents = wcif.persons.find(person =>\n    isWcaId ? person.wcaId === wcaId : person.wcaUserId === wcaId\n  ).registration.eventIds\n  const schedule = wcif.schedule\n  return userEvents.sort((a, b) => findEarlierEventId(a, b, schedule))\n}\n\nconst findEarlierEventId = (event1, event2, schedule) => {\n  let aTime\n  let bTime\n  schedule.venues.forEach(venue =>\n    venue.rooms.forEach(room =>\n      room.activities.forEach(activity => {\n        if (activity.activityCode === `${event1}-r1`)\n          aTime = new Date(activity.startTime)\n        else if (activity.activityCode === `${event2}-r1`)\n          bTime = new Date(activity.startTime)\n      })\n    )\n  )\n  return aTime - bTime\n}\nexport const flattenActivities = schedule => {\n  let flatActivites = []\n  for (const venue of schedule.venues) {\n    for (const room of venue.rooms) {\n      for (const activity of room.activities) {\n        flatActivites.push({ ...activity, room })\n        for (const childActivity of activity.childActivities)\n          flatActivites.push({ ...childActivity, room })\n      }\n    }\n  }\n  return flatActivites\n}\nexport const assignedTo = assignment => {\n  switch (assignment) {\n    case 'competitor':\n      return 'Compete'\n    case 'staff-judge':\n      return 'Judge'\n    case 'staff-runner':\n      return 'Run'\n    case 'staff-scrambler':\n      return 'Scramble'\n    default:\n      return 'Assigned for'\n  }\n}\n\n/**\n * Returns a list of data resembling\n * {start_date: , end_date: title:  }\n *\n * @param {*} events\n * @param {*} assignments\n */\nexport const getScheduleData = (\n  events = [],\n  unselectedVenues = [],\n  unselectedAssignments = [],\n  assignments,\n  activities\n) => {\n  let data = []\n\n  for (const assignment of assignments) {\n    const activity = activities.find(\n      activity => activity.id === assignment.activityId\n    )\n    if (\n      !events.includes(\n        activity.activityCode.slice(0, activity.activityCode.indexOf('-'))\n      ) &&\n      !unselectedVenues.includes(activity.room.id) &&\n      !unselectedAssignments.includes(assignment.assignmentCode)\n    )\n      data.push({\n        startDate: activity.startTime,\n        endDate: activity.endTime,\n        title: `${assignedTo(assignment.assignmentCode)} in ${activity.name}`,\n        assignmentCode: assignment.assignmentCode,\n        activity: activity\n      })\n  }\n  return data\n}\n\n/**\n *\n * @param {string} activity\n */\nexport const getEventFromActivity = activity =>\n  `${activityKey[activity.slice(0, activity.indexOf('-'))]} Round ${\n    activity[activity.indexOf('-') + 2]\n  } `\n/**\n *\n * @param {string} activity\n */\nexport const getGroupFromActivity = activity =>\n  `Group ${activity.slice(activity.lastIndexOf('-') + 2)}`\n\nexport const activityKey = {\n  '222': '2x2',\n  '333': '3x3',\n  '444': '4x4',\n  '555': '5x5',\n  '666': '6x6',\n  '777': '7x7',\n  pyram: 'Pyraminx',\n  '333oh': '3x3 One Handed',\n  '3bld': '3x3 Blindfolded',\n  '4bld': '4x4 Blindfolded',\n  skewb: 'Skewb',\n  clock: 'Clock',\n  '333ft': '3x3 with Feet',\n  '333mbf': '3x3 Multiple Blindfolded',\n  '333fm': 'Fewest Moves',\n  sq1: 'Square 1',\n  minx: 'Megaminx'\n}\n\nexport const getActivityIdFromCode = (activityCode, activities) => {\n  const activity = activities.find(\n    activity => activity.activityCode === activityCode\n  )\n  return activity\n}\n\nexport const getAssignmentsFromActivityId = (activityCode, wcif) => {\n  let compete = []\n  let staff = []\n  const persons = wcif.persons\n  for (const person of persons) {\n    for (const asssignment of person.assignments) {\n      if (asssignment.activityId === activityCode) {\n        asssignment.assignmentCode === 'competitor'\n          ? compete.push(person)\n          : staff.push(person)\n      }\n    }\n  }\n  return [compete, staff]\n}\n\nexport const getPersonalBestFromActivity = (competitor, activityCode) => {\n  const event = activityCode.slice(0, activityCode.indexOf('-'))\n  const activityEvent = competitor.personalBests.find(e => e.eventId === event)\n  return activityEvent ? getPreciseTime(activityEvent.best) : '--'\n}\n\nexport const getDelays = schedule => {\n  let delays = []\n  for (const venue of schedule.venues) {\n    for (const room of venue.rooms) {\n      delays[room.id] = parseInt(getExtensionData('ScheduleConfig', room).delay)\n    }\n  }\n  return delays\n}\n","import React from 'react'\nimport Container from '@material-ui/core/Container'\nimport Typography from '@material-ui/core/Typography'\n\nimport { makeStyles, createStyles } from '@material-ui/core/styles'\nimport ErrorIcon from '@material-ui/icons/Error'\n\nexport default function Error({ message }) {\n  const useStyles = makeStyles(theme =>\n    createStyles({\n      root: {\n        width: '100%',\n        height: '100%',\n        textAlign: 'center',\n        color:\n          theme.palette.type === 'light'\n            ? theme.palette.error.dark\n            : theme.palette.error.light\n      },\n      error: {\n        fontSize: '50px'\n      }\n    })\n  )\n  const classes = useStyles()\n  return (\n    <Container>\n      <div className={classes.root}>\n        <ErrorIcon className={classes.error} />\n        <Typography variant='h1'>ERROR</Typography>\n        <Typography variant='subtitle1'>{message}</Typography>\n      </div>\n    </Container>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport {\n  getActivityIdFromCode,\n  getAssignmentsFromActivityId,\n  getPersonalBestFromActivity,\n  assignedTo\n} from '../Overview/OverviewLogic'\n\nimport {\n  LinearProgress,\n  Typography,\n  TableHead,\n  TableRow,\n  Table,\n  TableCell,\n  TableBody,\n  makeStyles\n} from '@material-ui/core'\n\nimport Error from '../../common/Error'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    margin: theme.spacing(3)\n  },\n  link: {\n    textDecoration: 'none',\n    color: theme.palette.primary.light\n  },\n  top: {\n    margin: 'auto',\n    backgroundColor: theme.palette.primary.main\n  },\n  header: {\n    backgroundColor: theme.palette.secondary.main\n  },\n  text: {\n    margin: theme.spacing(3)\n  },\n  table: {\n    margin: 'auto',\n    maxWidth: 800\n  },\n  tableCell: {\n    paddingRight: 4,\n    paddingLeft: 5\n  }\n}))\n\nexport default function GroupsActivity({\n  event,\n  round,\n  group,\n  activities,\n  history,\n  wcif\n}) {\n  const activityCode = `${event}-r${round}-g${group}`\n\n  const activity = getActivityIdFromCode(activityCode, activities)\n  const [loading, setLoading] = useState(true)\n  const [groupInfo, setGroupInfo] = useState([])\n  useEffect(() => {\n    setGroupInfo(\n      getAssignmentsFromActivityId(\n        getActivityIdFromCode(activityCode, activities).id,\n        wcif\n      )\n    )\n    setLoading(false)\n  }, [wcif, activities, activityCode])\n  const classes = useStyles()\n  return (\n    <>\n      {loading && <LinearProgress />}\n      {!loading && groupInfo[0].length > 0 && (\n        <Table size='small' className={classes.table}>\n          <TableHead>\n            <TableRow>\n              <TableCell className={classes.top} align='center' colSpan={5}>\n                <Typography> Competitors </Typography>\n              </TableCell>\n            </TableRow>\n            <TableRow className={classes.header}>\n              <TableCell className={classes.tableCell}>\n                <Typography>Competitor</Typography>\n              </TableCell>\n              <TableCell className={classes.tableCell}>\n                <Typography>WCA ID</Typography>\n              </TableCell>\n              <TableCell className={classes.tableCell}>\n                <Typography>Seed Time</Typography>\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {groupInfo[0].map(competitor => (\n              <TableRow key={competitor.wcaUserId}>\n                <TableCell className={classes.tableCell}>\n                  <Link\n                    className={classes.link}\n                    to={`/competitions/${wcif.id}/groups/competitors/${\n                      competitor.wcaId ? competitor.wcaId : competitor.wcaUserId\n                    }`}\n                  >\n                    <Typography> {competitor.name}</Typography>\n                  </Link>\n                </TableCell>\n                <TableCell className={classes.tableCell}>\n                  <Typography>\n                    {competitor.wcaId ? competitor.wcaId : '-'}\n                  </Typography>\n                </TableCell>\n                <TableCell className={classes.tableCell}>\n                  <Typography>\n                    {getPersonalBestFromActivity(\n                      competitor,\n                      activity.activityCode\n                    )}\n                  </Typography>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n          <TableHead>\n            <TableRow>\n              <TableCell className={classes.top} align='center' colSpan={5}>\n                <Typography> Staff </Typography>\n              </TableCell>\n            </TableRow>\n            <TableRow className={classes.header}>\n              <TableCell className={classes.tableCell}>\n                <Typography> Competitor </Typography>\n              </TableCell>\n              <TableCell className={classes.tableCell}>\n                <Typography> WCA ID </Typography>\n              </TableCell>\n              <TableCell className={classes.tableCell}>\n                <Typography> Duty </Typography>\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {groupInfo[1].map(competitor => (\n              <TableRow key={competitor.wcaUserId}>\n                <TableCell className={classes.tableCell}>\n                  <Link\n                    className={classes.link}\n                    to={`/competitions/${wcif.id}/groups/competitors/${\n                      competitor.wcaId ? competitor.wcaId : competitor.wcaUserId\n                    }`}\n                  >\n                    <Typography>{competitor.name}</Typography>\n                  </Link>\n                </TableCell>\n                <TableCell className={classes.tableCell}>\n                  <Typography>{competitor.wcaId}</Typography>\n                </TableCell>\n                <TableCell className={classes.tableCell}>\n                  <Typography>\n                    {assignedTo(\n                      competitor.assignments.find(\n                        assignment => assignment.activityId === activity.id\n                      ).assignmentCode\n                    )}\n                  </Typography>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      )}\n      {!loading && groupInfo[0].length === 0 && (\n        <Error message='Group is Invalid or has not begun' />\n      )}\n    </>\n  )\n}\n","export const matches = () => {}\n\nexport const parseRoundFromActivity = activity => {\n  let round = activity.substring(activity.indexOf('-') + 2)\n\n  round = round.substring(\n    0,\n    round.indexOf('-') > 0 ? round.indexOf('-') : round.length\n  )\n  return round\n}\n\nexport const parseGroupFromActivity = activity =>\n  activity.substring(activity.lastIndexOf('-g') + 2)\n\nexport const getGroupsOf = (roundActivity, activities) => {\n  let groups = []\n  for (const activity of activities) {\n    if (\n      activity.activityCode.includes(roundActivity) &&\n      !groups.includes(activity.activityCode) &&\n      activity.childActivities.length === 0\n    ) {\n      groups.push({\n        activity: activity.activityCode,\n        room: activity.room.name,\n        startTime: activity.startTime\n      })\n    }\n  }\n  return groups\n}\n\nexport const activityUrl = activity => {\n  const event = activity.substring(0, activity.indexOf('-'))\n  const round = parseRoundFromActivity(activity)\n  const group = parseGroupFromActivity(activity)\n  return `${event}/${round}/${group}`\n}\n","import { getPreciseTime } from '../../server/tools'\n\nexport const parseAdvancementCondition = condition => {\n  if (!condition) {\n    return ''\n  }\n  switch (condition.type) {\n    case 'ranking':\n      return `Top ${parseInt(condition.level)}`\n    case 'percent':\n      return `${parseInt(condition.leve)}%`\n    case 'attemptResult':\n      return `Better than ${getPreciseTime(condition.level)}`\n    default:\n      return ''\n  }\n}\n\nexport const parseCutoff = cutoff => {\n  return `${getPreciseTime(cutoff.attemptResult)} seconds in ${\n    cutoff.numberOfAttempts\n  } results`\n}\n","import React, { useState, useEffect } from 'react'\nimport {\n  makeStyles,\n  Table,\n  TableBody,\n  TableHead,\n  TableCell,\n  TableRow,\n  Typography,\n  LinearProgress\n} from '@material-ui/core'\nimport Error from '../../common/Error'\nimport { parseRoundFromActivity } from '../../logic/activity'\nimport { parseAdvancementCondition, parseCutoff } from '../../logic/event'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    margin: theme.spacing(3)\n  },\n  link: {\n    color: theme.palette.primary.light,\n    cursor: 'pointer'\n  },\n  top: {\n    margin: 'auto',\n    backgroundColor: theme.palette.primary.main\n  },\n  header: {\n    backgroundColor: theme.palette.secondary.main\n  },\n  text: {\n    margin: theme.spacing(3)\n  },\n  table: {\n    margin: 'auto'\n  },\n  tableCell: {\n    paddingRight: 4,\n    paddingLeft: 5\n  }\n}))\n\nexport default function GroupsEvent({\n  history,\n  setRound,\n  events,\n  event,\n  wcif\n}) {\n  const [eventInfo, setEventInfo] = useState(null)\n  const handleChangeRound = round => {\n    setRound(round)\n    history.push(`/competitions/${wcif.id}/groups/events/${event}/${round}`)\n  }\n  useEffect(() => {\n    const localEvent = wcif.events.find(e => e.id === event)\n    setEventInfo(localEvent)\n  }, [event, wcif])\n\n  const classes = useStyles()\n  return (\n    <>\n      {events.includes(event) ? (\n        eventInfo ? (\n          <Table size='small' className={classes.table}>\n            <TableHead>\n              <TableRow className={classes.header}>\n                <TableCell className={classes.tableCell}>\n                  <Typography>Round</Typography>\n                </TableCell>\n                <TableCell className={classes.tableCell}>\n                  <Typography>Cutoff</Typography>\n                </TableCell>\n                <TableCell className={classes.tableCell}>\n                  <Typography>Advancement Conditon</Typography>\n                </TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {eventInfo.rounds.map(round => (\n                <TableRow key={round.id}>\n                  <TableCell className={classes.tableCell}>\n                    <Typography\n                      className={classes.link}\n                      onClick={() =>\n                        handleChangeRound(parseRoundFromActivity(round.id))\n                      }\n                    >\n                      {`Round ${parseRoundFromActivity(round.id)}`}\n                    </Typography>\n                  </TableCell>\n                  <TableCell className={classes.tableCell}>\n                    <Typography>\n                      {round.cutoff ? parseCutoff(round.cutoff) : 'None'}\n                    </Typography>\n                  </TableCell>\n                  <TableCell className={classes.tableCell}>\n                    <Typography>\n                      {parseAdvancementCondition(round.advancementCondition)}\n                    </Typography>\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        ) : (\n          <LinearProgress />\n        )\n      ) : (\n        <Error message={'Invalid Event'} />\n      )}\n    </>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport moment from 'moment'\nimport {\n  makeStyles,\n  Table,\n  TableBody,\n  TableHead,\n  TableCell,\n  TableRow,\n  Typography\n} from '@material-ui/core'\nimport Error from '../../common/Error'\nimport { parseGroupFromActivity, getGroupsOf } from '../../logic/activity'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    margin: theme.spacing(3)\n  },\n  link: {\n    color: theme.palette.primary.light,\n    cursor: 'pointer'\n  },\n  top: {\n    margin: 'auto',\n    backgroundColor: theme.palette.primary.main\n  },\n  header: {\n    backgroundColor: theme.palette.secondary.main\n  },\n  text: {\n    margin: theme.spacing(3)\n  },\n  table: {\n    margin: 'auto'\n  },\n  tableCell: {\n    paddingRight: 4,\n    paddingLeft: 5\n  }\n}))\n\nexport default function GroupsRound({\n  history,\n  setGroup,\n  event,\n  round,\n  activities,\n  wcif\n}) {\n  const handleChangeGroup = group => {\n    setGroup(group)\n    history.push(\n      `/competitions/${wcif.id}/groups/events/${event}/${round}/${group}`\n    )\n  }\n  const [groups, setGroups] = useState(null)\n  useEffect(() => {\n    const activity = `${event}-r${round}`\n    const groups = getGroupsOf(activity, activities)\n    groups.sort((a, b) =>\n      a.startTime > b.startTime ? 1 : b.startTime > a.startTime ? -1 : 0\n    )\n    setGroups(groups)\n  }, [activities, event, round])\n  const classes = useStyles()\n  return (\n    <>\n      {groups && groups.length > 0 ? (\n        <Table size='small' className={classes.table}>\n          <TableHead>\n            <TableRow className={classes.header}>\n              <TableCell className={classes.tableCell}>\n                <Typography>Group</Typography>\n              </TableCell>\n              <TableCell className={classes.tableCell}>\n                <Typography>Room</Typography>\n              </TableCell>\n              <TableCell className={classes.tableCell}>\n                <Typography>Start Time</Typography>\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {groups.map((group, index) => (\n              <TableRow key={index}>\n                <TableCell className={classes.tableCell}>\n                  <Typography\n                    onClick={() =>\n                      handleChangeGroup(parseGroupFromActivity(group.activity))\n                    }\n                    className={classes.link}\n                  >\n                    {`Group ${parseGroupFromActivity(group.activity)}`}\n                  </Typography>\n                </TableCell>\n                <TableCell className={classes.tableCell}>\n                  <Typography> {group.room}</Typography>\n                </TableCell>\n                <TableCell className={classes.tableCell}>\n                  <Typography>\n                    {moment.utc(group.startTime).format('hh:mm a')}\n                  </Typography>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      ) : (\n        <Error message={'Invalid Group'} />\n      )}\n    </>\n  )\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/styles'\nimport { Grid, IconButton, Typography } from '@material-ui/core'\nimport { activityKey } from '../Competition/Overview/OverviewLogic'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1\n  },\n  icon: {\n    fontSize: 20,\n    padding: theme.spacing(1),\n    '&:hover': {\n      opacity: 0.7,\n      color: theme.palette.primary.main\n    }\n  },\n  iconSelect: {\n    fontSize: 20,\n    padding: theme.spacing(1),\n    color: theme.palette.primary.main,\n    '&:hover': {\n      opacity: 0.7\n    }\n  }\n}))\n\nexport default function EventList({\n  selected = [],\n  onClick,\n  justify,\n  events,\n  alignment = 'row',\n  size = 2,\n  user = 'spectator',\n  showName = false\n}) {\n  const classes = useStyles()\n  return (\n    <div className={classes.root}>\n      <Grid spacing={4} container direction={alignment} justify={justify}>\n        {events.map(event => (\n          <Grid item key={event}>\n            <IconButton variant='inherit' onClick={() => onClick(event)}>\n              <span\n                className={\n                  (!selected.includes(event)\n                    ? classes.iconSelect\n                    : classes.icon) + ` cubing-icon event-${event}`\n                }\n              />\n            </IconButton>\n            {showName && (\n              <Grid item>\n                <Typography align='center'>{activityKey[event]}</Typography>\n              </Grid>\n            )}\n          </Grid>\n        ))}\n      </Grid>\n    </div>\n  )\n}\n","import React from 'react'\nimport Paper from '@material-ui/core/Paper'\nimport Grid from '@material-ui/core/Grid'\nimport Typography from '@material-ui/core/Typography'\nimport InfoIcon from '@material-ui/icons/Info'\nimport DoneAllIcon from '@material-ui/icons/DoneAll'\nimport { makeStyles } from '@material-ui/core'\nimport { getDelays } from '../Overview/OverviewLogic'\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    width: '100%',\n    maxHeight: '100%',\n    overflow: 'auto',\n    padding: theme.spacing(2),\n    marginBottom: theme.spacing(3)\n  }\n}))\n\nexport default function CompetitionStatus({ wcif }) {\n  const roomDelays = getDelays(wcif.schedule)\n\n  const classes = useStyles()\n  return (\n    <Paper className={classes.paper}>\n      {wcif.schedule.venues.map(venue =>\n        venue.rooms.map(room => {\n          if (roomDelays[room.id] > 0)\n            return (\n              <Grid container spacing={2} key={room.id} alignItems='center'>\n                <Grid item>\n                  <InfoIcon style={{ color: room.color }} fontSize='large' />\n                </Grid>\n                <Grid item>\n                  <Typography>\n                    {`${room.name} is currently delayed by ${\n                      roomDelays[room.id]\n                    } minute(s).`}\n                  </Typography>\n                </Grid>\n              </Grid>\n            )\n          else return <React.Fragment key={room.id}></React.Fragment>\n        })\n      )}\n      {roomDelays.filter(delay => delay !== 0).length === 0 && (\n        <Grid container spacing={2} alignItems='center'>\n          <Grid item>\n            <DoneAllIcon style={{ color: '#00ff00' }} fontSize='large' />\n          </Grid>\n          <Grid item>\n            <Typography>{`${wcif.name} is running on schedule!`}</Typography>\n          </Grid>\n        </Grid>\n      )}\n    </Paper>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport GroupsEvent from './GroupsEvent'\nimport GroupsRound from './GroupsRound'\nimport { Breadcrumbs, Grid, Link, LinearProgress } from '@material-ui/core'\nimport EventList from '../../common/EventList'\nimport { flattenActivities } from '../Overview/OverviewLogic'\nimport GroupsActivity from './GroupsActivity'\nimport { isHappening } from '../../../server/tools'\nimport CompetitionStatus from '../Status/CompetitionStatus'\n\nexport default function GroupsActivities({ match, wcif, userInfo, history }) {\n  const [activities, setActivities] = useState(undefined)\n  useEffect(() => {\n    setActivities(flattenActivities(wcif.schedule))\n  }, [wcif.schedule])\n  const [events, setEvents] = useState(undefined)\n  useEffect(() => {\n    let localEvents = []\n    wcif.events.map(event => localEvents.push(event.id))\n    setEvents(localEvents)\n  }, [wcif.events])\n  const [event, setEvent] = useState(match.params.event)\n  const [group, setGroup] = useState(match.params.group)\n  const [round, setRound] = useState(match.params.round)\n\n  const handleChange = (noEvent, noRound, noGroup) => {\n    noEvent && setEvent(undefined)\n    noRound && setRound(undefined)\n    noGroup && setGroup(undefined)\n    let link = `/competitions/${wcif.id}/groups/events/`\n    if (!noEvent) link += `${event}/`\n    if (!noGroup) link += `${group}/`\n    if (!noRound) link += `${round}/`\n    history.push(link)\n  }\n  return (\n    <Grid\n      container\n      spacing={4}\n      direction='column'\n      alignItems='center'\n      justify='center'\n    >\n      {isHappening(wcif.schedule) && <CompetitionStatus wcif={wcif} />}\n      <Grid item>\n        <Breadcrumbs style={{ fontSize: '5vmin' }}>\n          <Link\n            style={{ fontSize: '5vmin' }}\n            component='button'\n            color='inherit'\n            onClick={() => handleChange(true, true, true)}\n          >\n            Events\n          </Link>\n          {event && (\n            <Link\n              style={{ fontSize: '5vmin' }}\n              component='button'\n              color='inherit'\n              onClick={() => handleChange(false, true, true)}\n            >\n              <span className={`cubing-icon event-${event}`} />\n            </Link>\n          )}\n          {round && (\n            <Link\n              style={{ fontSize: '5vmin' }}\n              component='button'\n              color='inherit'\n              onClick={() => handleChange(false, false, true)}\n            >\n              Round {round}\n            </Link>\n          )}\n          {group && (\n            <Link\n              style={{ fontSize: '5vmin' }}\n              color='inherit'\n              onClick={() => handleChange(false, false, false)}\n            >\n              Group {group}\n            </Link>\n          )}\n        </Breadcrumbs>\n      </Grid>\n      {events && activities && event && round && group ? (\n        <GroupsActivity\n          activities={activities}\n          event={event}\n          group={group}\n          round={round}\n          history={history}\n          wcif={wcif}\n        />\n      ) : events && activities && event && round ? (\n        <GroupsRound\n          history={history}\n          activities={activities}\n          event={event}\n          round={round}\n          setGroup={setGroup}\n          wcif={wcif}\n        />\n      ) : events && activities && event ? (\n        <GroupsEvent\n          history={history}\n          setRound={setRound}\n          events={events}\n          event={event}\n          wcif={wcif}\n        />\n      ) : events ? (\n        <EventList\n          events={events}\n          showName={true}\n          onClick={event => {\n            setEvent(event)\n            history.push(`/competitions/${wcif.id}/groups/events/${event}`)\n          }}\n        />\n      ) : (\n        <LinearProgress />\n      )}\n    </Grid>\n  )\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport moment from 'moment'\nimport 'moment-timezone'\nimport {\n  getMyAssignmentsInOrder,\n  getScheduleData,\n  flattenActivities,\n  assignedTo,\n  getEventFromActivity,\n  getGroupFromActivity\n} from '../Overview/OverviewLogic'\nimport { activityUrl } from '../../logic/activity'\n\nimport Table from '@material-ui/core/Table'\nimport Paper from '@material-ui/core/Paper'\nimport Typography from '@material-ui/core/Typography'\nimport { makeStyles } from '@material-ui/styles'\nimport {\n  TableHead,\n  TableRow,\n  TableCell,\n  TableBody,\n  Grid\n} from '@material-ui/core'\n\nimport FiberManualRecordIcon from '@material-ui/icons/FiberManualRecord'\n\nimport Error from '../../common/Error'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    marginTop: theme.spacing(3)\n  },\n  paper: {\n    width: '100%',\n    maxHeight: '100%',\n    overflow: 'auto',\n    padding: theme.spacing(2),\n    marginBottom: theme.spacing(3)\n  },\n  text: {\n    margin: theme.spacing(3)\n  },\n  tableCell: {\n    paddingRight: 4,\n    paddingLeft: 5\n  },\n  link: {\n    color: theme.palette.primary.light,\n    textDecoration: 'none'\n  }\n}))\nexport default function GroupsUser({ wcaId, userInfo, wcif }) {\n  const myAssignments = getMyAssignmentsInOrder(wcaId, wcif)\n  const mySchedule =\n    myAssignments &&\n    getScheduleData([], [], [], myAssignments, flattenActivities(wcif.schedule))\n  const classes = useStyles()\n  return (\n    <>\n      {myAssignments === null ? (\n        <Error message={'Invalid ID'} />\n      ) : (\n        <Grid item className={classes.root} xs={12}>\n          <Paper className={classes.paper}>\n            <Table className={classes.table}>\n              <TableHead>\n                <TableRow>\n                  <TableCell className={classes.tableCell} size='small'>\n                    <Typography>{`Time`} </Typography>\n                  </TableCell>\n                  <TableCell className={classes.tableCell}>\n                    <Typography>{`Event`} </Typography>\n                  </TableCell>\n                  <TableCell className={classes.tableCell} size='small'>\n                    <Typography>{`Group`} </Typography>\n                  </TableCell>\n                  <TableCell className={classes.tableCell} size='small'>\n                    <Typography>{`Activity`} </Typography>\n                  </TableCell>\n                  <TableCell className={classes.tableCell}>\n                    <Typography>{`Room`} </Typography>\n                  </TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {mySchedule &&\n                  mySchedule.map(assignment => (\n                    <TableRow key={assignment.title}>\n                      <TableCell className={classes.tableCell}>\n                        <Typography>\n                          {moment(assignment.startDate)\n                            .tz(wcif.schedule.venues[0].timezone)\n                            .format('hh:mm a')}\n                        </Typography>\n                      </TableCell>\n                      <TableCell className={classes.tableCell}>\n                        <Typography>\n                          {getEventFromActivity(\n                            assignment.activity.activityCode\n                          )}\n                        </Typography>\n                      </TableCell>\n                      <TableCell className={classes.tableCell}>\n                        <Link\n                          className={classes.link}\n                          to={`/competitions/${\n                            wcif.id\n                          }/groups/events/${activityUrl(\n                            assignment.activity.activityCode\n                          )}`}\n                        >\n                          <Typography>\n                            {getGroupFromActivity(\n                              assignment.activity.activityCode\n                            )}\n                          </Typography>\n                        </Link>\n                      </TableCell>\n                      <TableCell className={classes.tableCell}>\n                        <Typography>\n                          {assignedTo(assignment.assignmentCode)}\n                        </Typography>\n                      </TableCell>\n                      <TableCell className={classes.tableCell}>\n                        <Grid container alignItems='center'>\n                          <Grid item>\n                            <Typography>\n                              {assignment.activity.room.name}\n                            </Typography>\n                          </Grid>\n                          <Grid item>\n                            <FiberManualRecordIcon\n                              style={{\n                                fontSize: '50px',\n                                color: assignment.activity.room.color\n                              }}\n                            />\n                          </Grid>\n                        </Grid>\n                      </TableCell>\n                    </TableRow>\n                  ))}\n              </TableBody>\n            </Table>\n          </Paper>\n        </Grid>\n      )}\n    </>\n  )\n}\n","import React, { useState } from 'react'\n\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport Paper from '@material-ui/core/Paper'\nimport TextField from '@material-ui/core/TextField'\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar'\nimport Avatar from '@material-ui/core/Avatar'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    marginTop: theme.spacing(2),\n    overflow: 'auto'\n  },\n  list: {\n    height: '400',\n    textAlign: 'center'\n  }\n}))\n\nexport default function CompetitorList({ onClick, competitors }) {\n  console.log(competitors)\n  const classes = useStyles()\n  const [query, setQuery] = useState('')\n  const [queryCompetitors, setQueryCompetitors] = useState(competitors)\n  const handleSearchChange = event => {\n    const query = event.target.value\n    setQuery(query)\n    query === ''\n      ? setQueryCompetitors(competitors)\n      : setQueryCompetitors(\n          competitors.filter(\n            competitor =>\n              competitor.name.toLowerCase().includes(query.toLowerCase()) ||\n              (competitor.wcaId &&\n                competitor.wcaId.includes(query.toUpperCase()))\n          )\n        )\n  }\n  return (\n    <Paper className={classes.paper}>\n      <List className={classes.list}>\n        <ListItem className={classes.list}>\n          <TextField\n            value={query}\n            onChange={handleSearchChange}\n            fullWidth={true}\n            label='Search'\n            id='outlined-basic'\n          ></TextField>\n        </ListItem>\n        {queryCompetitors.map(competitor => (\n          <ListItem\n            button\n            onClick={e => onClick(e, competitor)}\n            key={competitor.wcaUserId}\n            style={{ textAlign: 'center' }}\n          >\n            <ListItemAvatar>\n              <Avatar\n                style={{\n                  width: 60,\n                  height: 60\n                }}\n                alt={competitor.name}\n                src={competitor.avatar.thumbUrl}\n              />\n            </ListItemAvatar>\n            <ListItemText\n              primary={competitor.name}\n              secondary={\n                competitor.wcaId ? competitor.wcaId : competitor.wcaUserId\n              }\n            />\n          </ListItem>\n        ))}\n      </List>\n    </Paper>\n  )\n}\n","import React, { useState } from 'react'\nimport Link from '@material-ui/core/Link'\nimport Autocomplete from '@material-ui/lab/Autocomplete'\nimport GroupsUser from './GroupsUser'\nimport CompetitorList from './CompetitorList'\nimport CompetitionStatus from '../Status/CompetitionStatus'\nimport TextField from '@material-ui/core/TextField'\nimport Grid from '@material-ui/core/Grid'\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs'\nimport { isHappening } from '../../../server/tools'\n\nexport default function GroupsUsers({ history, wcif, match }) {\n  const persons = wcif.persons\n  const getUserLink = user => (user.wcaId ? user.wcaId : user.wcaUserId)\n  const getUser = id =>\n    isNaN(id)\n      ? persons.find(person => person.wcaId === id)\n      : persons.find(person => person.wcaUserId === parseInt(id))\n  const [person, setPerson] = useState(\n    match.params.wcaId ? getUser(match.params.wcaId) : null\n  )\n  const handleChange = (event, values) => {\n    setPerson(values)\n    history.push(\n      `/competitions/${wcif.id}/groups/competitors/${getUserLink(values)}`\n    )\n  }\n  return (\n    <>\n      <Grid spacing={4} container direction='column' alignItems='center'>\n        {isHappening(wcif.schedule) && <CompetitionStatus wcif={wcif} />}\n        <Grid item>\n          <Breadcrumbs style={{ fontSize: '5vmin' }}>\n            <Link\n              color='inherit'\n              href={`/competitions/${wcif.id}/groups/competitors`}\n            >\n              Competitors\n            </Link>\n            {person && (\n              <Link\n                color='inherit'\n                href={`/competitions/${\n                  wcif.id\n                }/groups/competitors/${getUserLink(person)}`}\n              >\n                {person.name}\n              </Link>\n            )}\n          </Breadcrumbs>\n        </Grid>\n        {person && (\n          <Grid item>\n            <Autocomplete\n              onChange={handleChange}\n              options={persons}\n              getOptionLabel={person =>\n                `${person.name} ${person.wcaId ? `- ${person.wcaId}` : ''}`\n              }\n              style={{ width: 300 }}\n              value={person}\n              renderInput={params => (\n                <TextField\n                  {...params}\n                  label='Select Competitor'\n                  variant='outlined'\n                  fullWidth\n                />\n              )}\n            />\n          </Grid>\n        )}\n        {person && (\n          <GroupsUser\n            wcaId={person.wcaId ? person.wcaId : person.wcaUserId}\n            userInfo={person}\n            wcif={wcif}\n          />\n        )}\n      </Grid>\n      {!person && (\n        <CompetitorList onClick={handleChange} competitors={persons} />\n      )}\n    </>\n  )\n}\n","import React from 'react'\nimport { Route, Redirect, Switch } from 'react-router-dom'\nimport GroupsActivity from './GroupsActivity'\nimport GroupsActivities from './GroupsActivities'\n\nimport GroupsUsers from './GroupsUsers'\n\nexport default function Groups({ user, wcif, userInfo }) {\n  return (\n    <Switch>\n      <Route\n        path={`/competitions/${wcif.id}/groups/competitors/:wcaId?`}\n        render={props => (\n          <GroupsUsers {...props} wcif={wcif} userInfo={userInfo} user={user} />\n        )}\n      />\n      <Route\n        path={`/competitions/${wcif.id}/groups/events/:event?/:round?/:group?`}\n        render={props => (\n          <GroupsActivities {...props} wcif={wcif} userInfo={userInfo} />\n        )}\n      />\n      {user !== 'spectator' && (\n        <Redirect\n          to={`/competitions/${wcif.id}/groups/competitors/${\n            userInfo.me.wca_id ? userInfo.me.wca_id : userInfo.me.id\n          }`}\n        />\n      )}\n      {user === 'spectator' && (\n        <Redirect to={`/competitions/${wcif.id}/groups/competitors/`} />\n      )}\n    </Switch>\n  )\n}\n","import React from 'react'\nimport Chip from '@material-ui/core/Chip'\nimport Grid from '@material-ui/core/Grid'\nimport { assignedTo } from './OverviewLogic'\n\nexport default function OverviewFilterChips({\n  venues,\n  unselectedRooms,\n  setUnselectedRooms,\n  unselectedAssignments,\n  setUnselectedAssignments\n}) {\n  const duties = [\n    'competitor',\n    'staff-judge',\n    'staff-runner',\n    'staff-scrambler'\n  ]\n  const updateSelectedRooms = roomId => {\n    unselectedRooms.includes(roomId)\n      ? setUnselectedRooms(unselectedRooms.filter(room => room !== roomId))\n      : setUnselectedRooms([...unselectedRooms, roomId])\n  }\n  const updateSelectedAssignments = name => {\n    unselectedAssignments.includes(name)\n      ? setUnselectedAssignments(\n          unselectedAssignments.filter(assignment => assignment !== name)\n        )\n      : setUnselectedAssignments([...unselectedAssignments, name])\n  }\n  return (\n    <Grid container direction='column' spacing={2}>\n      <Grid item>\n        {venues.map(venue =>\n          venue.rooms.map(room => (\n            <Chip\n              clickable\n              onClick={() => updateSelectedRooms(room.id)}\n              key={room.id}\n              label={room.name}\n              style={\n                unselectedRooms.includes(room.id)\n                  ? {}\n                  : { backgroundColor: room.color }\n              }\n            />\n          ))\n        )}\n      </Grid>\n      <Grid item>\n        {duties.map(duty => (\n          <Chip\n            clickable\n            onClick={() => updateSelectedAssignments(duty)}\n            key={duty}\n            label={assignedTo(duty)}\n            color={unselectedAssignments.includes(duty) ? 'default' : 'primary'}\n          />\n        ))}\n      </Grid>\n    </Grid>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport EventList from '../../common/EventList'\nimport {\n  makeStyles,\n  Paper,\n  LinearProgress,\n  Grid,\n  TextField\n} from '@material-ui/core'\nimport Autocomplete from '@material-ui/lab/Autocomplete'\nimport { ViewState } from '@devexpress/dx-react-scheduler'\nimport {\n  Scheduler,\n  DayView,\n  Appointments\n} from '@devexpress/dx-react-scheduler-material-ui'\nimport {\n  getScheduleData,\n  flattenActivities,\n  getMyEventsInOrder,\n  getMyAssignmentsInOrder\n} from './OverviewLogic'\nimport OverviewFilterChips from './OverviewFilterChips'\nimport { isHappening } from '../../../server/tools'\nimport CompetitionStatus from '../Status/CompetitionStatus'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    padding: theme.spacing(2, 3)\n  },\n  paper: {\n    margin: theme.spacing(2),\n    padding: theme.spacing(3),\n    textAlign: 'center'\n  },\n  card: {\n    textAlign: 'center',\n    margin: theme.spacing(2),\n    maxHeight: '200px'\n  }\n}))\nconst Appointment = props => {\n  return (\n    <Appointments.Appointment\n      {...props}\n      style={{ backgroundColor: props.data.activity.room.color }}\n    />\n  )\n}\n\nexport default function Overview({ wcif, user, userInfo }) {\n  const classes = useStyles()\n  const [selectedUser, setSelectedUser] = useState(\n    user === 'spectator'\n      ? wcif.persons[0]\n      : wcif.persons.find(person => person.wcaUserId === userInfo.me.id)\n  )\n  const [MyEvents, setMyEvents] = useState([])\n  const [MyAssignments, setMyAssignemnts] = useState([])\n  const [loading, setLoading] = useState(true)\n  useEffect(() => {\n    setLoading(true)\n    setMyEvents(getMyEventsInOrder(selectedUser.wcaUserId, wcif))\n    setMyAssignemnts(getMyAssignmentsInOrder(selectedUser.wcaUserId, wcif))\n  }, [selectedUser, wcif])\n  const [selectedEvents, setSelectedEvents] = useState([])\n  const [unselectedRooms, setUnselectedRooms] = useState([])\n  const [unselectedAssignments, setUnselectedAssignments] = useState([])\n  const [activties, setActivities] = useState(null)\n  useEffect(() => {\n    setActivities(flattenActivities(wcif.schedule))\n  }, [wcif])\n  const [data, setData] = useState([])\n  useEffect(() => {\n    setData(\n      getScheduleData(\n        selectedEvents,\n        unselectedRooms,\n        unselectedAssignments,\n        MyAssignments,\n        activties\n      )\n    )\n    setLoading(false)\n  }, [\n    user,\n    selectedEvents,\n    unselectedRooms,\n    unselectedAssignments,\n    MyAssignments,\n    wcif,\n    activties\n  ])\n  const addSelectedEvent = eventId => {\n    selectedEvents.includes(eventId)\n      ? setSelectedEvents(selectedEvents.filter(event => !(event === eventId)))\n      : setSelectedEvents([...selectedEvents, eventId])\n  }\n  return (\n    <div className={classes.root}>\n      {isHappening(wcif.schedule) && <CompetitionStatus wcif={wcif} />}\n      {loading ? (\n        <LinearProgress />\n      ) : (\n        <Paper className={classes.paper}>\n          <Grid container justify='center' alignItems='center' direction='row'>\n            <Grid item>\n              <Autocomplete\n                onChange={(event, value) => setSelectedUser(value)}\n                options={wcif.persons}\n                getOptionLabel={person =>\n                  `${person.name} ${person.wcaId ? `- ${person.wcaId}` : ''}`\n                }\n                style={{ width: 300 }}\n                value={selectedUser}\n                renderInput={params => (\n                  <TextField\n                    style={{ textAlign: 'center' }}\n                    {...params}\n                    label='Select Competitor'\n                    variant='outlined'\n                    fullWidth\n                  />\n                )}\n              />\n              <EventList\n                selected={selectedEvents}\n                onClick={addSelectedEvent}\n                justify='center'\n                events={MyEvents}\n                user={user}\n              />\n            </Grid>\n            <Grid item>\n              <OverviewFilterChips\n                venues={wcif.schedule.venues}\n                unselectedRooms={unselectedRooms}\n                setUnselectedRooms={setUnselectedRooms}\n                unselectedAssignments={unselectedAssignments}\n                setUnselectedAssignments={setUnselectedAssignments}\n              />\n            </Grid>\n            <Grid item>\n              <Scheduler data={data}>\n                <ViewState currentDate={wcif.schedule.startDate} />\n                <DayView startDayHour={8} endDayHour={19} cellDuration={30} />\n                <Appointments appointmentComponent={Appointment} />\n              </Scheduler>\n            </Grid>\n          </Grid>\n        </Paper>\n      )}\n    </div>\n  )\n}\n","import React, {useState} from 'react'\nimport TextField from '@material-ui/core/TextField'\nimport Divider from '@material-ui/core/Divider'\nimport Typography from '@material-ui/core/Typography'\nimport { getExtensionData, setExtensionData } from '../../../server/wcif'\nimport { setIn } from '../../../server/tools'\n\nexport default function ProjectorRoomAdmin({room,onRoomChange}) {\n    const onValueChange = (name) => (event) => {\n        onRoomChange(\n            setExtensionData(\n                'ScheduleConfig',\n                room,\n                setIn(getExtensionData('ScheduleConfig',room),[name],event.target.value)\n            ))\n    }\n    const localConfig = getExtensionData('ScheduleConfig',room)\n    return (\n    <>\n        <Typography variant='h6'>{room.name}</Typography>\n        <TextField\n            id=\"outlined-number\"\n            label=\"Delay (minutes)\"\n            type=\"number\"\n            InputLabelProps={{\n                shrink: true,\n            }}\n            value={localConfig.delay}\n            onChange={onValueChange('delay')}\n            margin=\"normal\"\n            variant=\"outlined\"\n        />\n        <TextField\n            id=\"outlined-multiline-static\"\n            label=\"Pinned Messsage\"\n            type=\"text\"\n            InputLabelProps={{\n                shrink: true,\n            }}\n            multiline\n            rows='4'\n            value={localConfig.pinnedMessage}\n            onChange={onValueChange('pinnedMessage')}\n            margin=\"normal\"\n            variant=\"outlined\"\n            helperText=\"Use this if you would like to project a message at the competition. You might want to include WiFi details, lunch details among other stuff. Come back if you wish to add anything.\"\n        />\n        <Divider/>\n    </>\n    )\n}\n","import React from 'react'\nimport ExpansionPanelActions from '@material-ui/core/ExpansionPanelActions'\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails'\nimport Button from '@material-ui/core/Button'\nimport FormGroup from '@material-ui/core/FormGroup'\nimport { Typography } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport ButtonGroup from '@material-ui/core/ButtonGroup'\nimport { mapIn } from '../../../server/tools'\nimport ProjectorRoomAdmin from './ProjectorRoomAdmin'\n/*\nTODO: Implement A COLOR PICKER for rooms\n*/\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%'\n  },\n  title: {\n    margin: theme.spacing(3),\n    textAlign: 'center'\n  },\n  group: {\n    justifyContent: 'center'\n  },\n  link: {\n    justifyContent: 'center',\n    maxWidth: 200\n  }\n}))\n\nexport default function ProjectorAdmin({\n  wcif,\n  setWcif,\n  updateProjectorConfig,\n  venues,\n  id\n}) {\n  const projectorConfigUpdate = newRoom => {\n    setWcif(\n      mapIn(wcif, ['schedule', 'venues'], venue =>\n        mapIn(venue, ['rooms'], room =>\n          room.id === newRoom.id ? newRoom : room\n        )\n      )\n    )\n  }\n  const saveWcif = () => {\n    updateProjectorConfig()\n  }\n  const classes = useStyles()\n  return (\n    <>\n      <ExpansionPanelDetails>\n        <FormGroup>\n          {venues.map(venue =>\n            venue.rooms.map(room => (\n              <ProjectorRoomAdmin\n                key={room.id}\n                room={room}\n                onRoomChange={projectorConfigUpdate}\n              />\n            ))\n          )}\n          <Typography className={classes.title} variant='h6' gutterBottom>\n            Link to Projector Screens\n          </Typography>\n          <ButtonGroup className={classes.group}>\n            <Button\n              className={classes.link}\n              variant='outlined'\n              href={`/project/${id}/all`}\n            >\n              Slideshow\n            </Button>\n            {/* <Button\n              className={classes.link}\n              variant='outlined'\n              href={`/project/${id}/pin`}\n            >\n              Pinned Messages\n            </Button> */}\n          </ButtonGroup>\n        </FormGroup>\n      </ExpansionPanelDetails>\n      <ExpansionPanelActions>\n        <Button size='small' color='primary' onClick={() => saveWcif()}>\n          Save\n        </Button>\n      </ExpansionPanelActions>\n    </>\n  )\n}\n","import React from 'react'\nimport ExpansionPanelActions from '@material-ui/core/ExpansionPanelActions'\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails'\nimport Button from '@material-ui/core/Button'\nimport FormGroup from '@material-ui/core/FormGroup'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormControl from '@material-ui/core/FormControlLabel'\nimport Switch from '@material-ui/core/Switch'\nimport NativeSelect from '@material-ui/core/NativeSelect'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport { setExtensionData, getExtensionData } from '../../../server/wcif'\nimport { setIn } from '../../../server/tools'\n\nexport default function GeneralAdmin({ wcif, setWcif, updateGeneralConfig }) {\n  const localConfig = getExtensionData('GeneralConfig', wcif)\n  const onValueChange = name => event => {\n    setWcif(\n      setExtensionData(\n        'GeneralConfig',\n        wcif,\n        setIn(\n          getExtensionData('GeneralConfig', wcif),\n          [name],\n          event.target.value\n        )\n      )\n    )\n  }\n  const onCheckboxChange = name => event => {\n    setWcif(\n      setExtensionData(\n        'GeneralConfig',\n        wcif,\n        setIn(\n          getExtensionData('GeneralConfig', wcif),\n          [name],\n          event.target.checked\n        )\n      )\n    )\n  }\n  const saveWcif = () => {\n    updateGeneralConfig()\n  }\n  return (\n    <>\n      <ExpansionPanelDetails>\n        <FormGroup>\n          <FormControlLabel\n            control={\n              <Switch\n                checked={localConfig.useProjector}\n                value='useProjector'\n                onChange={onCheckboxChange('useProjector')}\n              />\n            }\n            label='Use myComp for Sharing Groups'\n          />\n          <FormHelperText>\n            Selecting this means that a competitor will be able to access their\n            groups and assignments on mycomp. Please make sure to add a delay if\n            the competition is running behind schedule at any point.\n          </FormHelperText>\n          <FormControlLabel\n            control={\n              <Switch\n                checked={localConfig.useTelegramNotif}\n                value='useTelegramNotif'\n                onChange={onCheckboxChange('useTelegramNotif')}\n              />\n            }\n            label='Use Telegram Notifications'\n          />\n          {/* <FormControlLabel\n            control={\n              <Switch\n                checked={localConfig.showGroups}\n                value='useGroups'\n                onChange={onCheckboxChange('useGroups')}\n              />\n            }\n            label='Show Groups & Assignments'\n          />\n          <FormHelperText>\n            \n          </FormHelperText> */}\n          {\n            <FormControl\n              required\n              style={{\n                margin: 20,\n                minWidth: 120\n              }}\n              control={\n                <div>\n                  <InputLabel htmlFor='group-tool-helper'>\n                    Group Tool Used\n                  </InputLabel>\n                  <NativeSelect\n                    value={localConfig.groupTool}\n                    onChange={onValueChange('groupTool')}\n                  >\n                    <option value=''>None</option>\n                    <option value='groupifier'>Groupifier</option>\n                  </NativeSelect>\n                  <FormHelperText>\n                    Select the tool you used to generate groups. Only programs\n                    that communicate with WCIF are usable. If not selected,\n                    competitors will be unable to view their groups and you will\n                    have to manually proceed groups on the projector.\n                  </FormHelperText>\n                </div>\n              }\n            />\n          }\n        </FormGroup>\n      </ExpansionPanelDetails>\n      <ExpansionPanelActions>\n        <Button size='small' color='primary' onClick={() => saveWcif()}>\n          Save\n        </Button>\n      </ExpansionPanelActions>\n    </>\n  )\n}\n","import React from 'react'\nimport ExpansionPanelActions from '@material-ui/core/ExpansionPanelActions'\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails'\nimport FormGroup from '@material-ui/core/FormGroup'\nimport Typography from '@material-ui/core/Typography'\nimport Link from '@material-ui/core/Link'\nimport { makeStyles } from '@material-ui/core/styles'\n\n/*\nTODO: Implement A COLOR PICKER for rooms\n*/\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%'\n  },\n  title: {\n    margin: theme.spacing(3),\n    textAlign: 'center'\n  },\n  group: {\n    justifyContent: 'center'\n  },\n  link: {\n    justifyContent: 'center',\n    maxWidth: 200\n  }\n}))\n\nexport default function NotificationsAdmin({\n  wcif,\n  setWcif,\n  updateProjectorConfig,\n  venues,\n  id\n}) {\n  const classes = useStyles()\n  return (\n    <>\n      <ExpansionPanelDetails>\n        <FormGroup>\n          <Typography>\n            {`You can use a telegram channel for live automated notifications to\n            all competitiors. This isn't 100% integrated yet - but you can find\n            out more on how to `}\n            <Link href='https://github.com/saranshgrover/WCANotifiBot/wiki/How-to-use-WCA-Notification-Bot'>\n              {`here`}\n            </Link>\n          </Typography>\n          <Typography>\n            {`Link competitiors to this link: `}\n            <Link href={`https://t.me/${wcif.id}`}>{`t.me/${wcif.id}`} </Link>\n          </Typography>\n        </FormGroup>\n      </ExpansionPanelDetails>\n    </>\n  )\n}\n","import React, { useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel'\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary'\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails'\nimport Typography from '@material-ui/core/Typography'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport ProjectorAdmin from './ProjectorAdmin'\nimport GeneralAdmin from './GeneralAdmin'\nimport NotificationsAdmin from './NotificationsAdmin'\nimport Error from '../../common/Error'\nimport { getExtensionData } from '../../../server/wcif'\nimport { saveWcifChanges } from '../../../server/wca-api'\nimport CircularProgress from '@material-ui/core/CircularProgress'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%'\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular\n  },\n  mainLoader: {\n    position: 'absolute',\n    left: '55%',\n    top: '50%'\n  }\n}))\n\nexport default function Admin({ user, wcif, setWcif }) {\n  const classes = useStyles()\n  const [localWcif, setLocalWcif] = useState(wcif)\n  const [loading, setLoading] = useState(false)\n  const onWcifUpdate = () => {\n    setLoading(true)\n    saveWcifChanges(wcif, localWcif)\n      .then(() => {\n        setWcif(localWcif)\n        setLoading(false)\n      })\n      .catch(err => <Error message={err} />)\n  }\n  return (\n    <div className={classes.root}>\n      {loading && <CircularProgress size={50} className={classes.mainLoader} />}\n      {!loading && user === 'admin' && (\n        <>\n          <ExpansionPanel>\n            <ExpansionPanelSummary\n              expandIcon={<ExpandMoreIcon />}\n              aria-controls='panel1a-content'\n              id='panel1a-header'\n            >\n              <Typography className={classes.heading}>General</Typography>\n            </ExpansionPanelSummary>\n            <GeneralAdmin\n              wcif={localWcif}\n              setWcif={setLocalWcif}\n              updateGeneralConfig={onWcifUpdate}\n            />\n          </ExpansionPanel>\n          <ExpansionPanel\n            disabled={!getExtensionData('GeneralConfig', wcif).useProjector}\n          >\n            <ExpansionPanelSummary\n              expandIcon={<ExpandMoreIcon />}\n              aria-controls='panel2a-content'\n              id='panel2a-header'\n            >\n              <Typography className={classes.heading}>\n                Venue Configuration\n              </Typography>\n            </ExpansionPanelSummary>\n            <ProjectorAdmin\n              wcif={localWcif}\n              setWcif={setLocalWcif}\n              updateProjectorConfig={onWcifUpdate}\n              venues={localWcif.schedule.venues}\n              id={localWcif.id}\n            />\n          </ExpansionPanel>\n          <ExpansionPanel\n            disabled={!getExtensionData('GeneralConfig', wcif).useTelegramNotif}\n          >\n            <ExpansionPanelSummary\n              expandIcon={<ExpandMoreIcon />}\n              aria-controls='panel3a-content'\n              id='panel3a-header'\n            >\n              <Typography className={classes.heading}>Notifications</Typography>\n            </ExpansionPanelSummary>\n            <ExpansionPanelDetails>\n              <NotificationsAdmin\n                wcif={localWcif}\n                setWcif={setLocalWcif}\n                updateNotificationsConfig={onWcifUpdate}\n              />\n            </ExpansionPanelDetails>\n          </ExpansionPanel>\n        </>\n      )}\n      {user !== 'admin' && <Error message={'You are not an administrator'} />}\n    </div>\n  )\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport clsx from 'clsx'\nimport Button from '@material-ui/core/Button'\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport InfoIcon from '@material-ui/icons/Info'\nimport CloseIcon from '@material-ui/icons/Close'\nimport { amber, green } from '@material-ui/core/colors'\nimport IconButton from '@material-ui/core/IconButton'\nimport Snackbar from '@material-ui/core/Snackbar'\nimport SnackbarContent from '@material-ui/core/SnackbarContent'\nimport WarningIcon from '@material-ui/icons/Warning'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst variantIcon = {\n  success: CheckCircleIcon,\n  warning: WarningIcon,\n  error: ErrorIcon,\n  info: InfoIcon\n}\n\nconst useStyles1 = makeStyles(theme => ({\n  success: {\n    backgroundColor: green[600]\n  },\n  error: {\n    backgroundColor: theme.palette.error.dark\n  },\n  info: {\n    backgroundColor: theme.palette.primary.main\n  },\n  warning: {\n    backgroundColor: amber[700]\n  },\n  icon: {\n    fontSize: 20\n  },\n  iconVariant: {\n    opacity: 0.9,\n    marginRight: theme.spacing(1)\n  },\n  message: {\n    display: 'flex',\n    alignItems: 'center'\n  }\n}))\n\nfunction MySnackbarContentWrapper(props) {\n  const classes = useStyles1()\n  const { className, message, onClose, variant, ...other } = props\n  const Icon = variantIcon[variant]\n\n  return (\n    <SnackbarContent\n      className={clsx(classes[variant], className)}\n      aria-describedby='client-snackbar'\n      message={\n        <span id='client-snackbar' className={classes.message}>\n          <Icon className={clsx(classes.icon, classes.iconVariant)} />\n          {message}\n        </span>\n      }\n      action={[\n        <IconButton\n          key='close'\n          aria-label='close'\n          color='inherit'\n          onClick={onClose}\n        >\n          <CloseIcon className={classes.icon} />\n        </IconButton>\n      ]}\n      {...other}\n    />\n  )\n}\n\nMySnackbarContentWrapper.propTypes = {\n  className: PropTypes.string,\n  message: PropTypes.string,\n  onClose: PropTypes.func,\n  variant: PropTypes.oneOf(['error', 'info', 'success', 'warning']).isRequired\n}\n\nconst useStyles2 = makeStyles(theme => ({\n  margin: {\n    margin: theme.spacing(1)\n  }\n}))\n\nexport default function MySnackbar({ variant, message }) {\n  const classes = useStyles2()\n  const [open, setOpen] = React.useState(true)\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return\n    }\n\n    setOpen(false)\n  }\n\n  return (\n    <div>\n      <Snackbar\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'left'\n        }}\n        open={open}\n        autoHideDuration={6000}\n        onClose={handleClose}\n      >\n        <MySnackbarContentWrapper\n          onClose={handleClose}\n          variant={variant}\n          message={message}\n        />\n      </Snackbar>\n    </div>\n  )\n}\n","import React, { useState } from 'react'\nimport { Redirect, Route } from 'react-router-dom'\nimport Notifications from './Notifications/Notifications'\nimport Groups from './Groups/Groups'\nimport Overview from './Overview/Overview'\nimport Error from '../common/Error'\nimport Admin from './Admin/Admin'\nimport { isExtensionSetup } from '../../server/wcif'\nimport {\n  getMyAssignmentsInOrder,\n  getMyEventsInOrder\n} from './Overview/OverviewLogic'\nimport MySnackbar from '../common/MySnackbar'\n\nfunction Competition({ user, history, localWcif, compId, userInfo }) {\n  const [wcif, setWcif] = useState(localWcif)\n  return (\n    <div>\n      {isExtensionSetup('GeneralConfig', wcif) && (\n        <>\n          <Route\n            path={`/competitions/${wcif.id}/overview`}\n            render={props => (\n              <Overview\n                {...props}\n                wcif={wcif}\n                user={user}\n                userInfo={userInfo}\n              />\n            )}\n          />\n          <Route\n            path={`/competitions/${wcif.id}/groups`}\n            render={props => (\n              <Groups {...props} user={user} wcif={wcif} userInfo={userInfo} />\n            )}\n          />\n          <Route\n            path={`/competitions/${wcif.id}/notifications`}\n            render={props => <Notifications {...props} />}\n          />\n          <Route\n            path={`/competitions/${wcif.id}/admin`}\n            render={props => (\n              <Admin {...props} user={user} wcif={wcif} setWcif={setWcif} />\n            )}\n          />\n        </>\n      )}\n      {!isExtensionSetup('GeneralConfig', wcif) &&\n        (user === 'admin' ? (\n          <>\n            <Redirect to={`/competitions/${compId}/admin`} />\n            <MySnackbar\n              variant={'error'}\n              message={'Set up Admin information first'}\n            />\n            <Admin user={user} wcif={wcif} setWcif={setWcif} />\n          </>\n        ) : (\n          <Error\n            message={\"😞😞😞 This competition isn't using myComp 😞😞😞 \"}\n          />\n        ))}\n      <Route exact path={`/competitions/${wcif.id}`}>\n        <Redirect to={`/competitions/${wcif.id}/overview`} />\n      </Route>\n    </div>\n  )\n}\nexport default Competition\n","import React, { useState, useEffect } from 'react'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport Drawer from '@material-ui/core/Drawer'\nimport Hidden from '@material-ui/core/Hidden'\nimport { makeStyles } from '@material-ui/core/styles'\nimport DashboardList from './DashboardList'\nimport Competition from '../Competition'\nimport { getWcifPublic, getWcif } from '../../../server/wca-api'\nimport Error from '../../common/Error'\nimport { LinearProgress } from '@material-ui/core'\n\nconst drawerWidth = 240\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex'\n  },\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      width: drawerWidth,\n      flexShrink: 0\n    }\n  },\n  appBar: {\n    [theme.breakpoints.up('sm')]: {\n      width: `calc(100% - ${drawerWidth}px)`,\n      marginLeft: drawerWidth\n    }\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up('sm')]: {\n      display: 'none'\n    }\n  },\n  toolbar: theme.mixins.toolbar,\n  drawerPaper: {\n    width: drawerWidth\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3)\n  }\n}))\n\nfunction Dashboard({\n  match,\n  location,\n  history,\n  container,\n  mobileOpen,\n  setMobileOpen,\n  userInfo,\n  managableComps,\n  upcomingComps\n}) {\n  const classes = useStyles()\n  const onItemChange = text => {\n    setCurrentComponent(text)\n    history.push(`/competitions/${match.params.compId}/${text.toLowerCase()}/`)\n  }\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState(null)\n  const [currentComponent, setCurrentComponent] = useState('overview')\n  const [wcifPublic, setWcifPublic] = useState(null)\n  useEffect(() => {\n    getWcifPublic(match.params.compId)\n      .then(wcifPublic => setWcifPublic(wcifPublic))\n      .catch(err => setError(err.message))\n  }, [match.params.compId])\n  const [user, setUser] = useState(null)\n  useEffect(() => {\n    if (wcifPublic) {\n      const person = wcifPublic.persons.find(\n        person => person.wcaUserId === userInfo.me.id\n      )\n      person\n        ? person.roles.length > 0\n          ? setUser('admin')\n          : setUser('competitor')\n        : setUser('spectator')\n    }\n  }, [userInfo, wcifPublic])\n  const [wcif, setWcif] = useState(null)\n  useEffect(() => {\n    if (user === 'admin') {\n      getWcif(match.params.compId).then(wcif => {\n        setWcif(wcif)\n        setLoading(false)\n      })\n    } else {\n      setWcif(wcifPublic)\n      setLoading(false)\n    }\n  }, [user, match.params.compId, wcifPublic])\n\n  return (\n    <div className={classes.root}>\n      {error ? (\n        <Error message={error} />\n      ) : !user || loading ? (\n        <LinearProgress />\n      ) : (\n        <>\n          <CssBaseline />\n          <nav className={classes.drawer} aria-label='mailbox folders'>\n            <Hidden smUp implementation='css'>\n              <Drawer\n                container={container}\n                variant='temporary'\n                anchor={'left'}\n                open={mobileOpen}\n                onClose={setMobileOpen}\n                classes={{\n                  paper: classes.drawerPaper\n                }}\n                ModalProps={{\n                  keepMounted: true\n                }}\n              >\n                <div>\n                  <div className={classes.toolbar} />\n                  <DashboardList user={user} onClick={onItemChange} />\n                </div>\n              </Drawer>\n            </Hidden>\n            <Hidden xsDown implementation='css'>\n              <Drawer\n                classes={{\n                  paper: classes.drawerPaper\n                }}\n                variant='permanent'\n                open\n              >\n                <div>\n                  <div className={classes.toolbar} />\n                  <DashboardList user={user} onClick={onItemChange} />\n                </div>\n              </Drawer>\n            </Hidden>\n          </nav>\n          <main className={classes.content}>\n            {\n              <>\n                <Competition\n                  localWcif={wcif}\n                  history={history}\n                  user={user}\n                  compId={match.params.compId}\n                  userInfo={userInfo}\n                />\n              </>\n            }\n          </main>\n        </>\n      )}\n    </div>\n  )\n}\n\nexport default Dashboard\n","import React, { useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListSubheader from '@material-ui/core/ListSubheader'\n// eslint-disable-next-line no-unused-vars\nimport Divider from '@material-ui/core/Divider'\nimport Typography from '@material-ui/core/Typography'\nimport Paper from '@material-ui/core/Paper'\nimport FlagIconFactory from 'react-flag-icon-css'\nimport { compDatesToString } from '../../server/tools'\nimport { makeStyles } from '@material-ui/styles'\nimport { TextField } from '@material-ui/core'\nconst FlagIcon = FlagIconFactory(React, { useCssModules: false })\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    height: 400,\n    overflow: 'auto'\n  },\n  list: {\n    textAlign: 'center'\n  }\n}))\n\nexport default function CompList({ comps, subheader, date = false }) {\n  const [query, setQuery] = useState('')\n  const [queryComps, setQueryComps] = useState(comps)\n  const handleSearchChange = event => {\n    setQuery(event.target.value)\n    event.target.value === ''\n      ? setQueryComps(comps)\n      : setQueryComps(\n          comps.filter(comp =>\n            comp.name.toLowerCase().includes(event.target.value.toLowerCase())\n          )\n        )\n  }\n  const classes = useStyles()\n  return (\n    <Paper>\n      <List\n        className={classes.list}\n        style={{ overflow: 'auto' }}\n        subheader={\n          <ListSubheader disableSticky={true}>{subheader}</ListSubheader>\n        }\n      >\n        {comps.length === 0 ? (\n          <ListItem>\n            <ListItemText>You have no upcoming comps!</ListItemText>\n          </ListItem>\n        ) : (\n          <ListItem className={classes.list}>\n            <TextField\n              value={query}\n              onChange={handleSearchChange}\n              fullWidth={true}\n              label='Search'\n              id='outlined-basic'\n            ></TextField>\n          </ListItem>\n        )}\n        {queryComps.map(comp => {\n          return (\n            <ListItem\n              alignItems='center'\n              key={comp.id}\n              button\n              component={Link}\n              to={`/competitions/${comp.id}/overview`}\n            >\n              <ListItemIcon\n                children={\n                  <FlagIcon\n                    size={'2x'}\n                    code={comp.country_iso2.toLowerCase()}\n                  />\n                }\n              />\n              <ListItemText\n                key={comp.id + '-about'}\n                primary={comp.name}\n                secondary={\n                  date ? (\n                    <React.Fragment key={comp.id + '-fragment'}>\n                      <Typography\n                        key={comp.id + 'date'}\n                        component='span'\n                        variant='body2'\n                        color='textPrimary'\n                      >\n                        {compDatesToString(comp.start_date, comp.end_date)}\n                      </Typography>\n                    </React.Fragment>\n                  ) : (\n                    <> </>\n                  )\n                }\n              />\n            </ListItem>\n          )\n        })}\n      </List>\n    </Paper>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport LinearProgress from '@material-ui/core/LinearProgress'\nimport CompList from './CompList'\nimport { getAllCompsToday } from '../../server/wca-api'\nimport { Tabs, Tab } from '@material-ui/core'\n\nfunction LandingSignedIn({ myUpcomingComps, userInfo }) {\n  const [allCompsToday, setAllCompsToday] = useState([])\n  const [loadingToday, setLoadingToday] = useState(true)\n  const [value, setValue] = React.useState(myUpcomingComps.length > 0 ? 1 : 0)\n\n  useEffect(() => {\n    getAllCompsToday(1).then(comps => {\n      setAllCompsToday(comps)\n      setLoadingToday(false)\n    })\n  }, [])\n\n  return (\n    <>\n      {!loadingToday ? (\n        <>\n          <Tabs\n            value={value}\n            onChange={(event, index) => setValue(index)}\n            variant='fullWidth'\n          >\n            <Tab label='Upcoming Competitions' />\n            <Tab label='Your Competitions' />\n          </Tabs>\n          {value === 0 && <CompList comps={allCompsToday} />}\n          {value === 1 && <CompList date={true} comps={myUpcomingComps} />}\n        </>\n      ) : (\n        <LinearProgress />\n      )}\n    </>\n  )\n}\n\nexport default LandingSignedIn\n","import React, { Component } from 'react'\nimport {\n  Typography,\n  Box,\n  makeStyles,\n  Grid,\n  Divider,\n  Link\n} from '@material-ui/core'\nimport FlipCameraAndroidIcon from '@material-ui/icons/FlipCameraAndroid'\n\nconst useStyles = makeStyles(theme => ({\n  box: {\n    borderRadius: '25px',\n    margin: 'auto',\n    height: '80%',\n    width: '100%',\n    padding: theme.spacing(2)\n  },\n  icon: {\n    fontSize: '4vmax'\n  },\n  grid: {\n    padding: theme.spacing(3)\n  },\n  body: {\n    margin: theme.spacing(3)\n  }\n}))\nexport default function WelcomeLanding() {\n  const classes = useStyles()\n  return (\n    <>\n      <Box className={classes.box} bgcolor='background.paper'>\n        <Grid\n          container\n          className={classes.grid}\n          direction='column'\n          alignItems='center'\n          spacing={1}\n        >\n          <Grid item>\n            <FlipCameraAndroidIcon className={classes.icon} />\n          </Grid>\n          <Grid item>\n            <Typography color='textPrimary' variant='h2'>{`myComp`}</Typography>\n          </Grid>\n          <Grid item>\n            <Typography color='textSecondary' variant='subtitle2'>\n              {`Live WCA Competition Feedback Software`}\n            </Typography>\n          </Grid>\n        </Grid>\n        <Divider />\n        <Typography\n          algin='center'\n          className={classes.body}\n          color='textPrimary'\n          variant='h6'\n        >\n          {`myComp is an open source 3rd party WCA Application currently in beta designed to aid WCA Competition Organizers, Delegates, Competitors & Spectators during the event, real-time. It will support features like `}\n        </Typography>\n        <Typography\n          className={classes.body}\n          align='left'\n          variant='h6'\n        >{` ✔️ Group Assignments and Easy Visibility`}</Typography>\n        <Typography\n          className={classes.body}\n          align='left'\n          variant='h6'\n        >{` ✔️ Live Automated Projector`}</Typography>\n        <Typography\n          className={classes.body}\n          align='left'\n          variant='h6'\n        >{` ✔️ Push notifications via SMS & Telegram `}</Typography>\n        <Typography\n          className={classes.body}\n          align='left'\n          variant='h6'\n        >{` ✔️ Incident Reporting and Management`}</Typography>\n        <Typography\n          className={classes.body}\n          align='left'\n          variant='h6'\n        >{` ✔️ E-Certificates `}</Typography>\n        <Typography\n          className={classes.body}\n          align='left'\n          variant='h6'\n        >{` and much more!`}</Typography>\n        <Typography className={classes.body} variant='h6'>\n          {`If you're an organizer/delegate and would like to use myComp, or you have any feedback/bugs with the beta,`}{' '}\n          <Link href='mailto:saransh.grover@stonybrook.edu'>\n            {`shoot me an email`}\n          </Link>\n        </Typography>\n      </Box>\n    </>\n  )\n}\n","import moment from 'moment'\nimport { flattenActivities } from '../Competition/Overview/OverviewLogic'\n\nexport const getCurrentEvents = (activities, delays) => {\n  let currentEvents = []\n\n  for (const activity of activities) {\n    // const now = moment().subtract(delays[activity.room.id], 'minutes')\n    const now = moment('2019-11-23T14:15:00Z')\n    if (\n      activity.childActivities.length === 0 &&\n      now.isBetween(\n        moment(activity.startTime).add(delays[activity.room.id], 'minutes'),\n        moment(activity.endTime).add(delays[activity.room.id], 'minutes')\n      )\n    ) {\n      currentEvents.push(activity)\n    }\n  }\n  return currentEvents\n}\n","import React, { useState, useEffect } from 'react'\nimport { getExtensionData } from '../../../server/wcif'\nimport { getCurrentEvents } from '../ProjectorLogic'\nimport { flattenActivities } from '../../Competition/Overview/OverviewLogic'\nimport {\n  Typography,\n  Divider,\n  Grid,\n  makeStyles,\n  List,\n  ListItem,\n  ListItemText,\n  ListSubheader,\n  Paper\n} from '@material-ui/core'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%'\n  },\n  title: {\n    fontSize: '6vh'\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper\n  },\n  list: {\n    backgroundColor: theme.palette.background.paper\n  }\n}))\n\nexport default function AgendaScreen({ wcif }) {\n  const [delays, setDelays] = useState([])\n  useEffect(() => {\n    const venues = wcif.schedule.venues\n    let delays = []\n    for (const venue of venues) {\n      for (const room of venue.rooms) {\n        delays.push(parseInt(getExtensionData('ScheduleConfig', room).delay))\n      }\n    }\n    setDelays(delays)\n  }, [wcif])\n  const [currentEvents, setCurrentEvents] = useState([])\n  useEffect(() => {\n    setCurrentEvents(getCurrentEvents(flattenActivities(wcif.schedule), delays))\n  }, [delays, wcif.schedule])\n  const classes = useStyles()\n  return (\n    <>\n      <Paper className={classes.paper} square elevation={24}>\n        <List\n          className={classes.list}\n          subheader={\n            <ListSubheader>\n              <Typography align='center' className={classes.title}>\n                Happening Now!\n              </Typography>\n            </ListSubheader>\n          }\n        >\n          {currentEvents &&\n            currentEvents.map(event => (\n              <>\n                <ListItem\n                  style={{ backgroundColor: event.room.color }}\n                  alignItems='center'\n                >\n                  <ListItemText primary={event.name} secondary='Jan 9, 2014' />\n                </ListItem>\n                <Divider />\n              </>\n            ))}\n        </List>\n      </Paper>\n    </>\n  )\n}\n","import React from 'react'\n\nexport default function GroupScreen() {\n  return <div></div>\n}\n","import React from 'react'\n\nexport default function InfoScreen() {\n  return <div></div>\n}\n","import React from 'react'\n\nexport default function ResultsScreen() {\n  return <div></div>\n}\n","import React from 'react'\n\nexport default function SpotlightScreen() {\n  return <div></div>\n}\n","import React, { useState, useEffect } from 'react'\nimport Dialog from '@material-ui/core/Dialog'\nimport Slide from '@material-ui/core/Slide'\nimport { getWcif } from '../../server/wca-api'\nimport Error from '../common/Error'\nimport {\n  LinearProgress,\n  makeStyles,\n  Tab,\n  Tabs,\n  Typography,\n  Grid\n} from '@material-ui/core'\n\nimport TodayIcon from '@material-ui/icons/Today'\nimport DirectionsWalkIcon from '@material-ui/icons/DirectionsWalk'\nimport InfoIcon from '@material-ui/icons/Info'\nimport EqualizerIcon from '@material-ui/icons/Equalizer'\nimport EmojiEventsIcon from '@material-ui/icons/EmojiEvents'\n\nimport AgendaScreen from './Screens/AgendaScreen'\nimport GroupScreen from './Screens/GroupScreen'\nimport InfoScreen from './Screens/InfoScreen'\nimport ResultsScreen from './Screens/ResultsScreen'\nimport SpotlightScreen from './Screens/SpotlightScreen'\n\nconst useStyles = makeStyles(theme => ({\n  logo: {\n    maxHeight: 150,\n    maxWidth: 100\n  },\n  section: {\n    height: '100%'\n  },\n  root: {\n    minWidth: '100%',\n    height: '15%'\n  },\n  name: {\n    fontSize: 'calc(16px + 5vh)'\n  },\n  icon: {\n    fontSize: '8vmin'\n  },\n  label: {\n    fontSize: '4vmin'\n  },\n  toolbar: theme.mixins.toolbar\n}))\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction='up' ref={ref} {...props} />\n})\n\nconst ICON = {\n  AGENDA: TodayIcon,\n  COMPETING: DirectionsWalkIcon,\n  INFO: InfoIcon,\n  SPOTLIGHT: EmojiEventsIcon,\n  RESULTS: EqualizerIcon\n}\n\nconst getIndex = (currentScreen, length) =>\n  currentScreen === length - 1 ? 0 : currentScreen + 1\nconst DURATION = screen => {\n  switch (screen) {\n    case 'AGENDA':\n      return 5000\n    case 'COMPETING':\n      return 6000\n    case 'INFO':\n      return 7000\n    case 'SPOTLIGHT':\n      return 7000\n    case 'RESULTS':\n      return 7000\n    case undefined:\n      return 2000\n    default:\n      return 5000\n  }\n}\n\nexport default function Projector({ match }) {\n  const [loading, setLoading] = useState(true)\n  const [wcif, setWcif] = useState(null)\n  const [error, setError] = useState(null)\n  const [screens] = useState([\n    'AGENDA',\n    'COMPETING',\n    'INFO',\n    'SPOTLIGHT',\n    'RESULTS'\n  ])\n  const [currentScreen, setCurrentScreen] = useState(-1)\n  const currentScreenRef = React.useRef(currentScreen)\n  currentScreenRef.current = currentScreen\n  const getScreenFromName = () => {\n    switch (screens[currentScreen]) {\n      case 'AGENDA':\n        return <AgendaScreen wcif={wcif} />\n      case 'COMPETING':\n        return <GroupScreen wcif={wcif} />\n      case 'INFO':\n        return <InfoScreen wcif={wcif} />\n      case 'SPOTLIGHT':\n        return <SpotlightScreen wcif={wcif} />\n      case 'RESULTS':\n        return <ResultsScreen wcif={wcif} />\n      default:\n        return <Error />\n    }\n  }\n\n  useEffect(() => {\n    const timeout = setInterval(() => {\n      getWcif(match.params.compId)\n        .then(wcif => setWcif(wcif))\n        .catch(err => setError(err.message))\n      setCurrentScreen(getIndex(currentScreenRef.current, screens.length))\n      setLoading(false)\n    }, DURATION(screens[currentScreenRef.current]))\n    return () => {\n      clearTimeout(timeout)\n    }\n  }, [match.params.compId, currentScreen, screens])\n  const classes = useStyles()\n  return (\n    <div>\n      {loading && <LinearProgress />}\n      {error && <Error message={error} />}\n      {!loading && wcif && (\n        <Dialog fullScreen open={true} TransitionComponent={Transition}>\n          <Grid\n            className={classes.root}\n            container\n            justify='space-around'\n            direction='row'\n            alignItems='center'\n          >\n            {/* <Grid item className={classes.section}>\n              <br />\n              <img\n                className={classes.logo}\n                src='https://www.worldcubeassociation.org/files/WCAlogo_notext.svg'\n                alt='wca'\n              />\n            </Grid> */}\n            <Grid item>\n              <Typography className={classes.name}>{wcif.name}</Typography>\n            </Grid>\n            <Grid item>\n              <Tabs centered value={currentScreen}>\n                {screens.map(screen => {\n                  const CurrIcon = ICON[screen]\n                  return (\n                    <Tab\n                      key={screen}\n                      label={\n                        <Typography className={classes.label}>\n                          {screen}\n                        </Typography>\n                      }\n                      icon={<CurrIcon className={classes.icon} />}\n                    />\n                  )\n                })}\n              </Tabs>\n            </Grid>\n          </Grid>\n          <div className={classes.toolbar} />\n          {getScreenFromName()}\n        </Dialog>\n      )}\n    </div>\n  )\n}\n","import React, { Component } from 'react'\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect\n} from 'react-router-dom'\nimport Header from '../common/Header'\nimport Footer from '../common/Footer'\n\nimport { ThemeProvider, createMuiTheme } from '@material-ui/core/styles'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport blue from '@material-ui/core/colors/blue'\nimport blueGrey from '@material-ui/core/colors/blueGrey'\nimport LinearProgress from '@material-ui/core/LinearProgress'\n\nimport { getMyManagableComps, getMyUpcomingComps } from '../../server/wca-api'\nimport { isSignedIn, signOut } from '../../server/auth'\nimport history from '../../server/history'\nimport { sortArrayByDate } from '../../server/tools'\nimport Dashboard from '../Competition/Dashboard/Dashboard'\nimport LandingSignedIn from './LandingSignedIn'\nimport WelcomeLanding from './WelcomeLanding'\nimport Projector from '../Projector/Projector'\n\n// typography\nconst typography = {\n  fontFamily: [\n    'Playfair Display',\n    'Open Sans',\n    '\"Helvetica Neue\"',\n    '\"Apple Color Emoji\"',\n    '\"Segoe UI Emoji\"',\n    '\"Segoe UI Symbol\"'\n  ].join(',')\n}\n\nconst darkTheme = {\n  palette: {\n    primary: blue,\n    secondary: blueGrey,\n    type: 'dark'\n  },\n  typography: typography\n}\nconst lightTheme = {\n  palette: {\n    primary: blue,\n    secondary: blueGrey,\n    type: 'light'\n  },\n  typography: typography\n}\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      userInfo: this.props.userInfo,\n      signedIn: isSignedIn(),\n      theme: darkTheme,\n      mobileOpen: false,\n      upcomingComps: null,\n      managableComps: null,\n      loadinAdmin: true,\n      loadingAll: true\n    }\n    if (this.state.signedIn) {\n      getMyUpcomingComps(this.state.userInfo.me.id).then(res =>\n        this.setState({\n          upcomingComps: sortArrayByDate(res.upcoming_competitions),\n          loadingAll: false\n        })\n      )\n      getMyManagableComps(this.state.userInfo.me.id).then(res =>\n        this.setState({\n          managableComps: sortArrayByDate(res),\n          loadingAdmin: false\n        })\n      )\n    }\n  }\n  setMobileOpen = () => {\n    this.setState({ mobileOpen: !this.state.mobileOpen })\n  }\n  onSignOut = () => {\n    this.setState({\n      userInfo: null,\n      signedIn: false,\n      loadingAll: true,\n      loadingAdmin: true\n    })\n    signOut()\n  }\n\n  toggleDarkTheme = () => {\n    let newTheme =\n      this.state.theme.palette.type === 'light' ? darkTheme : lightTheme\n    this.setState({\n      theme: newTheme\n    })\n  }\n\n  render() {\n    const {\n      signedIn,\n      userInfo,\n      theme,\n      mobileOpen,\n      upcomingComps,\n      managableComps,\n      loadingAdmin,\n      loadingAll\n    } = this.state\n    const muiTheme = createMuiTheme(theme)\n    return (\n      <>\n        <ThemeProvider theme={muiTheme}>\n          <CssBaseline />\n          <Router basename={process.env.PUBLIC_URL}>\n            <Route\n              render={props => (\n                <Header\n                  {...props}\n                  userInfo={userInfo}\n                  onSignOut={this.onSignOut}\n                  setMobileOpen={this.setMobileOpen}\n                />\n              )}\n            />\n            {(loadingAll || loadingAdmin) && signedIn && <LinearProgress />}\n            {!loadingAll && !loadingAdmin && signedIn ? (\n              <Switch>\n                <Route\n                  exact\n                  path={`${process.env.PUBLIC_URL}/competitions`}\n                  render={props => (\n                    <LandingSignedIn\n                      {...props}\n                      userInfo={userInfo}\n                      myUpcomingComps={this.state.upcomingComps}\n                    />\n                  )}\n                />\n                <Route path='/project/:compId' component={Projector} />\n\n                <Route\n                  path='/competitions/:compId/'\n                  render={props => (\n                    <Dashboard\n                      {...props}\n                      userInfo={userInfo}\n                      mobileOpen={mobileOpen}\n                      setMobileOpen={this.setMobileOpen}\n                      managableComps={managableComps}\n                      upcomingComps={upcomingComps}\n                    />\n                  )}\n                />\n                <Route exact path='/'>\n                  <Redirect to='/competitions' />\n                </Route>\n                <Route exact path='/about' component={WelcomeLanding} />\n              </Switch>\n            ) : (\n              <Switch>\n                <Route exact path='/about' component={WelcomeLanding} />\n                <Route exact path='/' component={WelcomeLanding} />\n                <Route path='/project/:compId' component={Projector} />\n              </Switch>\n            )}\n          </Router>\n          <Footer\n            currTheme={theme.palette.type}\n            onThemeChange={this.toggleDarkTheme}\n          />\n        </ThemeProvider>\n      </>\n    )\n  }\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister()\n    })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './components/Landing/App'\nimport * as serviceWorker from './serviceWorker'\nimport { getMe } from './server/wca-api'\nimport { isSignedIn } from './server/auth'\nimport { initializeAuth } from './server/auth'\ninitializeAuth()\nif (isSignedIn()) {\n\tgetMe().then(user => {\n\t\tReactDOM.render(\n\t\t\t<App userInfo={user} />,\n\t\t\tdocument.getElementById('root')\n\t\t)\n\t})\n} else {\n\tReactDOM.render(<App userInfo={{}} />, document.getElementById('root'))\n}\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register()\n"],"sourceRoot":""}